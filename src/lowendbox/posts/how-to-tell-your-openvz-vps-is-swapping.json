{"id": "1450", "post": "<div class=\"post-1450 post type-post status-publish format-standard hentry category-tutorials tag-memory tag-openvz\" id=\"post-1450\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-tell-your-openvz-vps-is-swapping/\" rel=\"bookmark\">How to Tell Your OpenVZ VPS is Swapping</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/memory/\" rel=\"tag\">memory</a>, <a href=\"https://lowendbox.com/tag/openvz/\" rel=\"tag\">openvz</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> November 10, 2010 @ 7:02 am, by LowEndAdmin</div><div class=\"storycontent tablelook\"><p>So you think your OpenVZ VPS really has \u201cguaranteed memory\u201d? Well. Not quite. I have got an OpenVZ VPS from one of the providers listed here \u2014 256MB guaranteed and 512MB burstable memory. When I run <code>free</code> it shows</p><pre class=\"code\">$ <b>free -m</b>\n             total       used       free     shared    buffers     cached\nMem:           512         65        446          0          0          0\n-/+ buffers/cache:         65        446\nSwap:            0          0          0\n</pre><p>So \u2014 512MB total memory and 0 swap? After all I am only using 65MB of memory so well below my \u201cguaranteed\u201d amount. Zero swap because it is just how OpenVZ does its memory account. But is it <em>really</em> the case that all my processes reside in physical RAM?</p><p>Let\u2019s dig out the good ol\u2019 user_beancounters.</p><pre class=\"code\">$ <b>sudo cat /proc/user_beancounters | grep -E '(uid|physpages|oomguarpages)'</b>\nuid  resource              held       maxheld       barrier         limit       failcnt\n     physpages             <em>6662</em>         11570             0    2147483647             0\n     oomguarpages          <em>8085</em>         12750         65536    2147483647             0\n</pre><p>I am trying to highlight the \u201c<a href=\"http://wiki.openvz.org/Physpages\">physpages</a>\u201d and \u201c<a href=\"http://wiki.openvz.org/Oomguarpages\">oomguarpages</a>\u201d amount. According to OpenVZ Wiki:</p><blockquote><p><b>physpages</b></p><p>Total number of RAM pages used by processes in this container.</p><p><b>oomguarpages</b></p><p>oomguarpages parameter accounts the total amount of memory and swap space used by the processes of a particular container.</p></blockquote><p>Sounds like one is the total number of physical pages used by the container, and the other one is the total number of pages (physical + swap) used by the container. That means when you take <b>oomguarpages \u2013 physpages</b> you get \u2014 the number of swapped pages from processes in this container! Now back to my UBC readouts, I have</p><p>(8085 \u2013 6662) * 4096 / 1024 / 1024 = <b>5.56MB</b>!</p><p>out of 31.58MB (8,085 pages) that has been swapped out. And the 65MB figure returned by \u201cfree\u201d is merely how much my processes have been allocating \u2014 so only 1/2 are actually used, and 18% of that is already swapped out.</p><p>So, has your low end provider been overselling the memory and caused your pages to swap out?</p><p class=\"dpsp-share-text\"></p><div id=\"dpsp-content-bottom\" class=\"dpsp-content-wrapper dpsp-shape-rounded dpsp-column-auto dpsp-has-spacing dpsp-no-labels dpsp-show-on-mobile dpsp-button-style-1 dpsp-has-icon-background dpsp-has-button-background dpsp-show-total-share-count dpsp-show-total-share-count-after\"><ul class=\"dpsp-networks-btns-wrapper dpsp-networks-btns-content dpsp-has-button-icon-animation\"><li><a rel=\"nofollow\" href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-tell-your-openvz-vps-is-swapping%2F&amp;t=How%20to%20Tell%20Your%20OpenVZ%20VPS%20is%20Swapping\" class=\"dpsp-network-btn dpsp-facebook dpsp-no-label dpsp-first\" title=\"Share on Facebook\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://twitter.com/intent/tweet?text=How%20to%20Tell%20Your%20OpenVZ%20VPS%20is%20Swapping&amp;url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-tell-your-openvz-vps-is-swapping%2F&amp;via=LowEndNetwork\" class=\"dpsp-network-btn dpsp-twitter dpsp-no-label\" title=\"Share on Twitter\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://www.linkedin.com/shareArticle?url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-tell-your-openvz-vps-is-swapping%2F&amp;title=How%20to%20Tell%20Your%20OpenVZ%20VPS%20is%20Swapping&amp;mini=true\" class=\"dpsp-network-btn dpsp-linkedin dpsp-no-label dpsp-last\" title=\"Share on LinkedIn\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li></ul><div class=\"dpsp-total-share-wrapper\"><span class=\"dpsp-icon-total-share\"></span><span class=\"dpsp-total-share-count\">0</span><span>shares</span></div></div><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/celebrate-diwali-with-special-offers-from-hostnamaste/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Celebrate Diwali with Special Offers from HostNamaste!\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/11/Happy-Diwali-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Celebrate Diwali with Special Offers from HostNamaste!</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/dedipath-special-halloween-offer-for-leb-readers-1gb-for-1-75-month-in-ca-fl-nj-nv/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"DediPath: Special Halloween Offer for LEB Readers! (1GB for $1.75/month in CA/FL/NJ/NV)\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/10/dedipath-halloween-500-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">DediPath: Special Halloween Offer for LEB Readers! (1GB for $1.75/month in CA/FL/NJ/NV)</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/vpscheap-returns-featuring-unique-openvz-offers-in-dallas-unmetered-bw-from-16-year/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"VPSCheap Returns, Featuring Unique OpenVZ Offers in Dallas (Unmetered BW From $16/year!)\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/09/vpscheap-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">VPSCheap Returns, Featuring Unique OpenVZ Offers in Dallas (Unmetered BW From $16/year!)</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/hosterlabs-great-offers-you-can-feel-good-about-4gb-of-ram-for-7-20-mo-in-canada/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Hosterlabs: Great Offers You Can Feel Good About (4GB of RAM for $7.20/mo in Canada!)\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/08/hosterlabs-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Hosterlabs: Great Offers You Can Feel Good About (4GB of RAM for $7.20/mo in Canada!)</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/admin/\" title=\"All posts by LowEndAdmin\" rel=\"author\">LowEndAdmin</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/11a4d9191634a9374eeca7d0e8982ba2?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/11a4d9191634a9374eeca7d0e8982ba2?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><p class=\"bio-description\">The original owner of LowEndBox known as \"LowEndAdmin\" or \"LEA\" for short founded LowEndBox in 2008 and created the concept of hosting applications on low resource \"Low End Boxes\". After creating the roots of the community that we know today, \"LEA\" stepped aside and allowed others to carry the torch forward.</p></div></div><div class=\"feedback\"></div></div>"}