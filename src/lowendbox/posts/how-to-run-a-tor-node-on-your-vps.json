{"id": "24123", "post": "<div class=\"post-24123 post type-post status-publish format-standard hentry category-tutorials tag-debian tag-linux tag-onion-routing tag-privacy tag-tor\" id=\"post-24123\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-run-a-tor-node-on-your-vps/\" rel=\"bookmark\">How to Run a TOR Node on Your VPS</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \"> <a href=\"https://lowendbox.com/tag/debian/\" rel=\"tag\">debian</a>, <a href=\"https://lowendbox.com/tag/linux/\" rel=\"tag\">linux</a>, <a href=\"https://lowendbox.com/tag/onion-routing/\" rel=\"tag\">onion routing</a>, <a href=\"https://lowendbox.com/tag/privacy/\" rel=\"tag\">privacy</a>, <a href=\"https://lowendbox.com/tag/tor/\" rel=\"tag\">tor</a> <img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \"> August 13, 2020 @ 12:00 am, by raindog308</div><div class=\"storycontent tablelook\"><p>TOR (The Onion Router) is FOSS software to allow onion routing. It is designed to defeat traffic analysis. In this tutorial, we\u2019ll talk about the three kinds of routers you can run to contribute to the project. If you\u2019re merely interested in using TOR, please visit the TOR <a href=\"https://www.torproject.org/\">home page</a> and click \u201cDownload Tor Browser\u201d.</p><h1>What is Traffic Analysis?</h1><p>Imagine I\u2019m a surveillance agency and I want to gather information on you, so I watch your network traffic. Even if it\u2019s encrypted, I\u2019ll be able to see which web sites you visit. I won\u2019t be able to decrypt your bank password, but I\u2019ll know the name of your bank. I won\u2019t be able to know what you said to your friends, but I might be able to see that you said *something* and build a list of your friends, etc.</p><h1>How does TOR defeat this?</h1><p>TOR defeats this by onion routing. Your connections are routed through a mesh of 7,000+ (as of this writing) servers, and the paths chosen change with each browser click you make. This makes it impossible (or at least very difficult) for someone to trace your connection. This is a gross simplification of how TOR works \u2013 <a href=\"https://en.wikipedia.org/wiki/Tor_%28anonymity_network%29\">check out Wikipedia</a> for a fuller overview.</p><p>Note that this does not magically make you invisible on the Internet. The purpose of TOR is to enhance individual privacy, not enable a legion of superhackers.</p><p><span id=\"more-24123\"></span></p><h1>How can you help?</h1><p>To function, TOR needs three types of nodes:</p><ul><li><strong>Relay nodes:</strong> These are the mesh nodes through which traffic passes. Their function is simply to pass traffic from one node to another.</li><li><strong>Bridge relays:</strong> This are specialized entry nodes that are kept secret (not listed in the public TOR directory), which makes it more difficult for governments to block these entrances.</li><li><strong>Exit nodes:</strong> These are the points where your traffic \u201cpops out\u201d of the network. Your traffic typically enters on a relay node, passes through several, and then exits on an exit node. So if the traffic goes through a server in Kentucky (USA), Toronto (CAN), and Berlin (DE) in that order, Kentucky and Toronto are relay nodes and Berlin is an exit node. If you were sitting in Seattle, you would appear (based on your IP) to be in Berlin.</li></ul><p>You can help by running more nodes. Spare and idling LowEndVPSes are excellent for running nodes.</p><h1>What kind of node should I run?</h1><p>Relay and bridge nodes are rarely controversial, but exit nodes nearly always cause abuse reports. <strong>You must check your provider\u2019s terms.</strong> Some providers disallow all TOR nodes, while many more allow only relay and bridge nodes. When in doubt, read your provider\u2019s Acceptable Use Policy and if you have questions, open a ticket. You can find a <a href=\"https://trac.torproject.org/projects/tor/wiki/doc/GoodBadISPs\">list of TOR-friendly hosts</a> on the TOR project\u2019s wiki.</p><p>In this example I\u2019m running on a <a href=\"https://buyvm.net\">BuyVM</a> VPS in their Las Vegas location.&nbsp; BuyVM is a TOR-friendly provider.&nbsp; See the <a href=\"https://buyvm.net/acceptable-use-policy/#3\">TOR section of their AUP</a> for full details.</p><h1>How do I setup a node?</h1><p>On Debian 10, it\u2019s as simple as:</p><pre>apt-get install tor</pre><p>The real work is in editing /etc/tor/torrc. Let\u2019s walk through the chief options:</p><p>You should uncomment one or both of these:</p><pre>Log notice file /var/log/tor/notices.log\nLog debug file /var/log/tor/debug.log</pre><p>You want TOR to run as a daemon, so uncomment this:</p><pre>RunAsDaemon 1</pre><p>You should uncomment this so TOR runs as a relay:</p><pre>ORPort 9001</pre><p>Put your server\u2019s hostname here:</p><pre>Address relay.lowend.party</pre><p>Think up a clever name for your relay and uncomment this:</p><pre>Nickname LowEndParty</pre><p>Now you need to configure how much bandwidth you will allocate.&nbsp; There are two methods.&nbsp; The first is to set the amount of bandwidth per second, calculating that out for a month.&nbsp; 100KB/sec is about 255GB/mo, though it will take quite some time before your node \u201cwarms up\u201d to the point where it\u2019s serving that much.&nbsp; If you want to give 1TB, you could set this to 375KB/sec or so:</p><pre>RelayBandwidthRate 100 KB # Throttle traffic to 100KB/s (800Kbps)\nRelayBandwidthBurst 200 KB # But allow bursts up to 200KB/s (1600Kbps)</pre><p>You can also put in an overall limit.&nbsp; Since most VPSes come with monthly bandwidth, it\u2019s easiest to use these directives:</p><pre>AccountingMax 1024 GB\nAccountingStart month 1 00:00</pre><p>These directives mean \u201cuse a maximum of 1TB in an accounting period that starts every month on the 1st.\u201d</p><p>Be sure to put some contact info:</p><pre>ContactInfo Joe Blow &lt;joeblow@example.com&gt;</pre><p>Turn on directory advertising:</p><pre>DirPort 9030</pre><p><strong>This next one is very important!</strong>&nbsp; If you\u2019re not running an exit node, set your exit policy to reject everything:</p><pre>ExitPolicy reject *:*</pre><p>If you are planning to run an exit node, consult the torrc comments if you wish to limit exit policies.</p><h1>Firing Up TOR</h1><p>Now all you need do is:</p><pre>systemctl enable tor\nsystemctl start tor</pre><p>Your node will not suddenly spring to life spewing out gigabytes of traffic.&nbsp; <a href=\"https://blog.torproject.org/lifecycle-new-relay\">This article</a> has a good overview of a new node\u2019s lifecycle.</p><p>Once your node is established you might want to view metrics on it.&nbsp; You can search for your node <a href=\"https://metrics.torproject.org/rs.html\">here</a>.&nbsp; There\u2019s also a <a href=\"https://tormap.void.gr/\">map of all nodes</a> you can view.&nbsp; I see my node in Vegas!</p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDAiIGhlaWdodD0iNTU1IiB2aWV3Qm94PSIwIDAgODAwIDU1NSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"alignnone size-full wp-image-24129\" data-src=\"https://lowendbox.com/wp-content/uploads/2020/07/tor2.png.webp\" alt=\"\" width=\"800\" height=\"555\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2020/07/tor2.png.webp 800w, https://lowendbox.com/wp-content/uploads/2020/07/tor2-300x208.png.webp 300w, https://lowendbox.com/wp-content/uploads/2020/07/tor2-768x533.png.webp 768w\" data-sizes=\"(max-width: 800px) 100vw, 800px\"></p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDEiIGhlaWdodD0iNTM3IiB2aWV3Qm94PSIwIDAgODAxIDUzNyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"alignnone  wp-image-24128\" data-src=\"https://lowendbox.com/wp-content/uploads/2020/07/tor1.png.webp\" alt=\"\" width=\"801\" height=\"537\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2020/07/tor1.png.webp 800w, https://lowendbox.com/wp-content/uploads/2020/07/tor1-300x201.png.webp 300w, https://lowendbox.com/wp-content/uploads/2020/07/tor1-768x515.png.webp 768w\" data-sizes=\"(max-width: 801px) 100vw, 801px\"></p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MDEiIGhlaWdodD0iNjI4IiB2aWV3Qm94PSIwIDAgODAxIDYyOCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"alignnone  wp-image-24145\" data-src=\"https://lowendbox.com/wp-content/uploads/2020/07/tor3.png.webp\" alt=\"\" width=\"801\" height=\"628\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2020/07/tor3.png.webp 2316w, https://lowendbox.com/wp-content/uploads/2020/07/tor3-300x235.png.webp 300w, https://lowendbox.com/wp-content/uploads/2020/07/tor3-1024x803.png.webp 1024w, https://lowendbox.com/wp-content/uploads/2020/07/tor3-768x602.png.webp 768w, https://lowendbox.com/wp-content/uploads/2020/07/tor3-1536x1204.png.webp 1536w, https://lowendbox.com/wp-content/uploads/2020/07/tor3-2048x1606.png.webp 2048w\" data-sizes=\"(max-width: 801px) 100vw, 801px\"></p><p>&nbsp;</p><p class=\"dpsp-share-text\"></p><div id=\"dpsp-content-bottom\" class=\"dpsp-content-wrapper dpsp-shape-rounded dpsp-column-auto dpsp-has-spacing dpsp-no-labels dpsp-show-on-mobile dpsp-button-style-1 dpsp-has-icon-background dpsp-has-button-background dpsp-show-total-share-count dpsp-show-total-share-count-after\"><ul class=\"dpsp-networks-btns-wrapper dpsp-networks-btns-content dpsp-has-button-icon-animation\"><li><a rel=\"nofollow\" href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-run-a-tor-node-on-your-vps%2F&amp;t=How%20to%20Run%20a%20TOR%20Node%20on%20Your%20VPS\" class=\"dpsp-network-btn dpsp-facebook dpsp-no-label dpsp-first\" title=\"Share on Facebook\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://twitter.com/intent/tweet?text=How%20to%20Run%20a%20TOR%20Node%20on%20Your%20VPS&amp;url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-run-a-tor-node-on-your-vps%2F&amp;via=LowEndNetwork\" class=\"dpsp-network-btn dpsp-twitter dpsp-no-label\" title=\"Share on Twitter\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://www.linkedin.com/shareArticle?url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-run-a-tor-node-on-your-vps%2F&amp;title=How%20to%20Run%20a%20TOR%20Node%20on%20Your%20VPS&amp;mini=true\" class=\"dpsp-network-btn dpsp-linkedin dpsp-no-label dpsp-last\" title=\"Share on LinkedIn\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li></ul><div class=\"dpsp-total-share-wrapper\"><span class=\"dpsp-icon-total-share\"></span><span class=\"dpsp-total-share-count\">2</span><span>shares</span></div></div><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/nginx-vs-openlitespeed-vs-apache/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Nginx vs. OpenLiteSpeed vs. Apache\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/nginx-vs-openlitespeed-vs-apache-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Nginx vs. OpenLiteSpeed vs. Apache</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/top-ten-things-that-should-be-in-your-dot-files/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Top Ten Things That Should Be In Your Dot Files\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Top Ten Things That Should Be In Your Dot Files</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-setup-a-browser-based-desktop-with-a-single-script/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Setup a Browser-Based Desktop with a Single Script\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/08/guac1-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Setup a Browser-Based Desktop with a Single Script</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/hosterlabs-windows-kvm-vps-hosted-in-canada-from-just-4-99-month-with-2gb-ram/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Hosterlabs - Cheap VPS Provider\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/05/hosterlabs-cheap-vps-provider-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Hosterlabs - Windows KVM VPS hosted in Canada from just $4.99/month with 2GB RAM!</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/raindog308/\" title=\"All posts by raindog308\" rel=\"author\">raindog308</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/raindog308\" class=\"bio-icon bio-icon-website\"></a><p class=\"bio-description\">I'm Andrew, techno polymath and long-time LowEndTalk community Moderator. My technical interests include all things Unix, perl, python, shell scripting, and relational database systems. I enjoy writing technical articles here on LowEndBox to help people get more out of their VPSes.</p></div></div><div class=\"feedback\"></div></div>"}