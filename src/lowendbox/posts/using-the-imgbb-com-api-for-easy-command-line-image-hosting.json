{"id": "27308", "post": "<div class=\"post-27308 post type-post status-publish format-standard hentry category-tutorials tag-api tag-bash tag-image-hosting tag-imgbb tag-imgur\" id=\"post-27308\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/using-the-imgbb-com-api-for-easy-command-line-image-hosting/\" rel=\"bookmark\">Using the imgbb.com API for Easy Command-Line Image Hosting</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/api/\" rel=\"tag\">api</a>, <a href=\"https://lowendbox.com/tag/bash/\" rel=\"tag\">bash</a>, <a href=\"https://lowendbox.com/tag/image-hosting/\" rel=\"tag\">image hosting</a>, <a href=\"https://lowendbox.com/tag/imgbb/\" rel=\"tag\">imgbb</a>, <a href=\"https://lowendbox.com/tag/imgur/\" rel=\"tag\">imgur</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> May 25, 2021 @ 1:14 am, by raindog308</div><div class=\"storycontent tablelook\"><p><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2021/05/imgbb.png.webp\" loading=\"lazy\" class=\"alignright size-full wp-image-27309 litespeed-loaded\" data-src=\"https://lowendbox.com/wp-content/uploads/2021/05/imgbb.png.webp\" alt=\"\" width=\"300\" height=\"300\" align=\"right\" hspace=\"20\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2021/05/imgbb.png.webp 300w, https://lowendbox.com/wp-content/uploads/2021/05/imgbb-150x150.png.webp 150w\" data-sizes=\"(max-width: 300px) 100vw, 300px\" sizes=\"(max-width: 300px) 100vw, 300px\" srcset=\"https://lowendbox.com/wp-content/uploads/2021/05/imgbb.png.webp 300w, https://lowendbox.com/wp-content/uploads/2021/05/imgbb-150x150.png.webp 150w\" data-was-processed=\"true\">Like many of my fellow LowendTalk readers, I sometimes post images on LET and other boards.&nbsp; To do that, I need an image hosting service.&nbsp; Going through the work of logging into a web page, uploading through their interface, etc. is tedious.&nbsp; Wouldn\u2019t it be better to do it with an easy command-line script?&nbsp; Indeed, and it\u2019s quite easy.</p><p>As far as services,&nbsp;I\u2019ve never liked Imgur and while I do like postimages.cc, they don\u2019t have an API.&nbsp; However, imgbb.com does and in about 15 minutes I had a script that allowed me to upload files and get a URL without any web browser interaction at all.</p><p>My requirements were that the script had to work on both Linux and macOS and not require any third-party modules because I didn\u2019t want to have to keep them updated on different operating systems.&nbsp; There are some nice Python scripts but they require the requests module (which is great, but is third-party).&nbsp; Likewise while the right thing to do is parse the JSON response with something like jq, that\u2019s a third-party dependency, so I\u2019ll just munge it with a regex.</p><p>Here\u2019s code showing how easy it is.</p><p><span id=\"more-27308\"></span></p><p>First, create an account on imgbb.com and then login with it.&nbsp; Then visit <a href=\"https://api.imgbb.com/\" target=\"_blank\" rel=\"noopener\">api.imgbb.com</a> and click \u201cGet API Key\u201d.</p><p>Here\u2019s the script I\u2019m using, which is modified from the example on their site:</p><pre class=\"p1\"><span class=\"s1\">#!/bin/bash</span>\n\n# change this to your actual API KEY\n<span class=\"s1\">API_KEY=123451234512345 </span>\n<span class=\"s1\">RESPONSE=$(curl -s --location \\\n--request POST \"https://api.imgbb.com/1/upload?key=${API_KEY}\" \\\n--form \"image=@\"$1\"\")</span>\n<span class=\"s1\">URL=$(echo $RESPONSE | sed 's/^.*\"display_url\":\"//' | sed 's/\",.*$//')</span>\n<span class=\"s1\">URL=$(echo $URL | sed 's#\\\\/#/#g')</span>\n<span class=\"s1\">echo $URL\n</span></pre><p>All that\u2019s needed for this script are bash, curl, and sed, which should be present on any modern Unix-like system.</p><p>Here\u2019s the output:</p><pre class=\"p1\"><span class=\"s1\">$ ~/Dropbox/bin/imgbb_upload.sh ~/Desktop/leb_logo.png </span>\n<span class=\"s1\">https://i.ibb.co/zmhDzKS/leb-logo.png</span></pre><p>That URL is now suitable for use on any forum.</p><p>&nbsp;</p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/top-ten-things-that-should-be-in-your-dot-files/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Top Ten Things That Should Be In Your Dot Files\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Top Ten Things That Should Be In Your Dot Files</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/poll-results-which-of-these-features-do-you-look-for-when-selecting-a-provider/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Poll Results: Which of These Features Do You Look for When Selecting a Provider?\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/06/lowendbox-poll-results-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Poll Results: Which of These Features Do You Look for When Selecting a Provider?</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/poll-which-of-these-features-do-you-look-for-when-selecting-a-provider/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Poll: Which of These Features Do You Look for When Selecting a Provider?\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/06/lowendbox-poll-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Poll: Which of These Features Do You Look for When Selecting a Provider?</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/umaxhosting-free-month-bonus-12gb-ram-openvz-instance-69-yr-more-in-los-angeles-and-ny/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"UMaxHosting - Free Month Bonus! 12GB RAM OpenVZ instance @ $69/yr &amp; more in Los Angeles and NY!\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2018/07/umaxhosting-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">UMaxHosting - Free Month Bonus! 12GB RAM OpenVZ instance @ $69/yr &amp; more in Los Angeles and NY!</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/raindog308/\" title=\"All posts by raindog308\" rel=\"author\">raindog308</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/raindog308\" class=\"bio-icon bio-icon-website\"></a><p class=\"bio-description\">I'm Andrew, techno polymath and long-time LowEndTalk community Moderator. My technical interests include all things Unix, perl, python, shell scripting, and relational database systems. I enjoy writing technical articles here on LowEndBox to help people get more out of their VPSes.</p></div></div><div class=\"feedback\"></div></div>"}