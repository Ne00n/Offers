{"id": "28399", "post": "<div class=\"post-28399 post type-post status-publish format-standard hentry category-tutorials tag-db-2 tag-developers tag-ibm tag-mysql tag-nosql tag-oracle tag-postgres tag-postgresql tag-sql tag-sql-server\" id=\"post-28399\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/sql-vs-nosql-which-is-better/\" rel=\"bookmark\">SQL vs. NoSQL \u2013 Which is Better?</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" width=\"16\" height=\"16\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/db-2/\" rel=\"tag\">db/2</a>, <a href=\"https://lowendbox.com/tag/developers/\" rel=\"tag\">developers</a>, <a href=\"https://lowendbox.com/tag/ibm/\" rel=\"tag\">ibm</a>, <a href=\"https://lowendbox.com/tag/mysql/\" rel=\"tag\">mysql</a>, <a href=\"https://lowendbox.com/tag/nosql/\" rel=\"tag\">nosql</a>, <a href=\"https://lowendbox.com/tag/oracle/\" rel=\"tag\">oracle</a>, <a href=\"https://lowendbox.com/tag/postgres/\" rel=\"tag\">postgres</a>, <a href=\"https://lowendbox.com/tag/postgresql/\" rel=\"tag\">postgresql</a>, <a href=\"https://lowendbox.com/tag/sql/\" rel=\"tag\">SQL</a>, <a href=\"https://lowendbox.com/tag/sql-server/\" rel=\"tag\">sql server</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" width=\"16\" height=\"16\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> October 2, 2021 @ 3:41 pm, by raindog308</div><div class=\"storycontent tablelook\"><p><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_vs_nosql.png\" loading=\"lazy\" class=\"alignright size-full wp-image-28401 litespeed-loaded\" data-src=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_vs_nosql.png\" alt=\"SQL vs NoSQL\" width=\"300\" height=\"300\" align=\"right\" hspace=\"20\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_vs_nosql.png 300w, https://lowendbox.com/wp-content/uploads/2021/10/sql_vs_nosql-150x150.png 150w\" data-sizes=\"(max-width: 300px) 100vw, 300px\" sizes=\"(max-width: 300px) 100vw, 300px\" srcset=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_vs_nosql.png 300w, https://lowendbox.com/wp-content/uploads/2021/10/sql_vs_nosql-150x150.png 150w\" data-was-processed=\"true\">In the world of database systems, SQL has been the king since it took off in the early 80s.&nbsp; It was conceived, developed, and codified in the 1970s but really hit its stride once developers had worked out the kinks and it rapidly overtook earlier, hierarchical DB systems like IMS.</p><p>In the 21st century, NoSQL databases have emerged.&nbsp; What\u2019s the difference?&nbsp; Is SQL going to be eclipsed by NoSQL?&nbsp; No because they\u2019re really two different systems with different strengths.&nbsp; Indeed, as it turns out, you can do a lot of NoSQL in SQL.</p><p><strong>What is SQL?</strong></p><p>SQL is the Structured Query Language (<em>not</em> the Standard Query Language).&nbsp; It was popularized by products such as Oracle, IBM\u2019s DB/2, Microsoft\u2019s SQL Server, MySQL, and PostgreSQL.&nbsp; SQL stores and represents data in tables, which are analogous to spreadsheets.</p><p>For example, let\u2019s say you have an inventory of cars you are selling.&nbsp; Your table might look like this:</p><p><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql_table.png\" loading=\"lazy\" class=\"aligncenter size-full wp-image-28402 litespeed-loaded\" data-src=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql_table.png\" alt=\"SQL vs. NoSQL\" width=\"650\" height=\"222\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql_table.png 650w, https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql_table-300x102.png 300w\" data-sizes=\"(max-width: 650px) 100vw, 650px\" sizes=\"(max-width: 650px) 100vw, 650px\" srcset=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql_table.png 650w, https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql_table-300x102.png 300w\" data-was-processed=\"true\"></p><p>Note that missing values (called NULLs) are OK.&nbsp; It just means there\u2019s no data for that row and the application can decide how it wants to deal with it.</p><p>From this table (we\u2019ll call it \u2018car_inventory\u2019), it is very easy to do searches.</p><pre>-- For example, to find used cars:\nSELECT * FROM car_inventory WHERE new = 'N';\n\n-- You can sort if you wish:\nSELECT * FROM car_inventory WHERE new = 'N' ORDER BY manufacturer, make;\n\nYou can also do various summary functions easily.&nbsp; For example:\n\n-- number of cars in your inventory:\nSELECT COUNT(*) FROM car_inventory;&nbsp; &nbsp;-- how many cars in your inventory\n\n-- how many cars in your inventory that are made by Toyota:\nSELECT COUNT(*) FROM car_inventory WHERE manufacturer = 'Toyota';&nbsp; &nbsp;\n\n-- total value\nSELECT SUM (price) from car_inventory;\n\n-- most expensive car\nSELECT make, manufacturer, year FROM car_inventory WHERE price = MAX(price);</pre><p>etc.&nbsp; SQL excels at finding data with filters and also in summarizing data (or \u201cslicing and dicing\u201d) it.&nbsp; This is obviously a quick example but imagine if you are Wal-mart and have an inventory question.&nbsp; Asking queries like \u201chow much toothpaste of all brands did we sell in South Dakota in January\u201d, \u201chow many size 12 red sneakers do we have in stock in store 1234\u201d, and \u201cgive me a report of sales of diet soda by region and by time of day for these three months from people who also bought potato chips\u201d are easy to do.</p><p><strong>SQL Weaknesses</strong></p><p>Notice that \u201chas_airco\u201d column.&nbsp; I could filter on that and find cars that have or don\u2019t have airco.&nbsp; But what if I also wanted to keep track of cars that have side impact airbags, Apple Airplay, leather seats, seat warmers, etc.?&nbsp; I could find myself with hundreds of columns, one for each feature.</p><p>There are ways of dealing with this.&nbsp; Typically you\u2019d split this table into multiple other tables, perhaps with one called \u201cseat_features\u201d with a smaller number of columns, and then join the tables together (using the car_id to make sure the right rows are joined with the right rows).</p><p>But what if tomorrow a company comes out with a new feature and you start getting cars with that feature?&nbsp; You have to go in and edit the structure of your tables before you can load that data.&nbsp; Obviously, SQL is best when you have a defined set of attributes for your data.</p><p>SQL also has a couple other drawbacks.&nbsp; Simple queries like those shown above are almost English-like and easy to grasp.&nbsp; But in complex databases these can grow into queries so complex you need software to help you sort out what\u2019s going on:</p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODAiIGhlaWdodD0iMzQ5IiB2aWV3Qm94PSIwIDAgNjgwIDM0OSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"aligncenter size-full wp-image-28403\" data-src=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql1.png\" alt=\"SQL Query\" width=\"680\" height=\"349\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql1.png 680w, https://lowendbox.com/wp-content/uploads/2021/10/sql_nosql1-300x154.png 300w\" data-sizes=\"(max-width: 680px) 100vw, 680px\"></p><p>SQL is a string-based language, so it\u2019s not well-suited for serializing/deserializing objects, though many SQL DBs now have proper JSON support (see below) and some support binary BLOBs.</p><p>Finally, SQL is premised on the idea that clients will use SQL as designed \u2013 to give it a query and have it produce a result set.&nbsp; Many developers have a mindset of \u201cgive it to me row by row so I can decide what to do\u201d which results in many open queries and cursors that can slow performance.&nbsp; Or put another way: many developers don\u2019t spend the time required to master SQL because other things compete with their time, so they tend to write poor queries.</p><p><strong>So What is NoSQL?</strong></p><p>NoSQL is a sort of \u201ccoat check\u201d system.&nbsp; Imagine you\u2019re going to an event and go to the coat check counter.&nbsp; You had them your article and they give you a ticket, number 4173.&nbsp; When you return later, you give them your ticket, and they give your article back.</p><p><span id=\"more-28399\"></span></p><p>Ticket 4173 can be anything: a trench coat, a fur stole, a woman\u2019s purse, a backpack, etc.&nbsp; The clerk doesn\u2019t have to redesign their system if I give them a windbreaker as opposed to a leather vest.&nbsp; Everything revolves around the paradigm of \u201cgive me whatever 4173 represents\u201d.</p><p>In computing, 4173 is a document ID and what you get is data such as a JSON document (or it could be an XML document or really any format).&nbsp; It\u2019s very fast to say \u201cgive me document 4173\u201d and the application then does with the JSON document whatever it wants.&nbsp; If the document has 25 fields and the application adds 3 more and then checks it in again, the database is not going to balk.</p><p>This is a great approach when doing development because there\u2019s no need to constant change the database structure before you add or modify data.&nbsp; Columns don\u2019t grow stale because there are no columns.</p><p>But there are drawbacks:</p><ul><li>Getting summary data is very expensive.&nbsp; For example, if we had our cars inventory in a NoSQL database, it would be difficult to count how many are Toyotas.&nbsp; We\u2019d have to check out all the documents and examine each one.&nbsp; I can ameliorate this somewhat with indexing but in general, NoSQL is a \u201cfetch me this document\u201d model, not a \u201csearch for this data\u201d model.</li><li>The slicing, dicing, etc. is not possible.&nbsp; I can\u2019t give complex criteria and ask the DB for matching rows.</li></ul><p><strong>So Which is Better?</strong></p><p>Neither.&nbsp; They\u2019re just different models.&nbsp; In some cases, NoSQL is excellent.&nbsp; In some cases, SQL is a better choice.</p><p>And many systems use both.&nbsp; For example, imagine an online RPG.&nbsp; I might store accounting information about the player (player ID, name, email, password hash, etc.) in a SQL database.&nbsp; Then if I want to fetch his character, I fetch that player ID document in the NoSQL database and get JSON objects I can use to easily load into the game.</p><p>Or I may have an order management system where all the summary data, statistics, and basic customer information is in SQL, but each order placed is in a NoSQL database.&nbsp; Etcetera.</p><p><strong>Can I do NoSQL in SQL?</strong></p><p>Yes, and this is increasingly common.&nbsp; You can create a table with frequently accessed/summarized columns, and then a column (or a separate table joined by ID) with JSON data.&nbsp; If you don\u2019t want the whole document, many RDBMS systems have <a href=\"https://www.postgresql.org/docs/9.3/functions-json.html\" target=\"_blank\" rel=\"noopener\">JSON functions</a> that will parse the JSON in the engine and return a specific field, or index that field.</p><p><strong>A Final Note on Availability and Consistency</strong></p><p>Another design factor is consistency.&nbsp; SQL originally ran on single servers where data could be trusted to be consistent, and it uses <a href=\"https://en.wikipedia.org/wiki/Multiversion_concurrency_control\" target=\"_blank\" rel=\"noopener\" aria-label=\"Wikipedia\">multi-version concurrency control</a> and <a href=\"https://en.wikipedia.org/wiki/ACID\" target=\"_blank\" rel=\"noopener\" aria-label=\"Wikipedia\">ACID promises</a> to ensure that no one is reading half-written data even if there are hundreds of readers/writers, even if a single transaction spans hundreds of tables.</p><p>However, historically it\u2019s been more difficult to make read/write SQL systems highly available and not dependent on a single server.&nbsp; There are replication approaches, but these can be dangerous if someone commits a write on one server and then someone queries another before replication is complete.&nbsp; While were are expensive proprietary solutions to the problem (e.g., <a href=\"https://en.wikipedia.org/wiki/Oracle_RAC\" target=\"_blank\" rel=\"noopener\" aria-label=\"Wikipedia\">Oracle\u2019s Real Application Clusters</a>) many enterprises opt for a failover approach, where if a system crashes, a clustered node picks up it\u2019s SAN-shared or replication copy of the database and becomes the database server.&nbsp; However, this usually incurs a period of downtime while the failover happens.</p><p>Not all database systems need this level of \u201calways available, always consistent\u201d protection.&nbsp; A classic example is a social networking site where if I see a post has 73 likes and at the same time you see it has 74 likes, who cares?&nbsp; \u201cEventual\u201d consistency in this case may be more important than complete consistency.&nbsp; The <a href=\"https://en.wikipedia.org/wiki/CAP_theorem\" target=\"_blank\" rel=\"noopener\" aria-label=\"Wikipedia\">CAP theorum</a> explains the trade-offs.</p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/udemy-has-free-courses-on-python-linux-sql-machine-learning-and-more/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Udemy\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/09/udemy-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Udemy Has Free Courses on Python, Linux, SQL, Machine Learning, and More!</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/nodes-and-modes-maintaining-galera-replication-for-mariadb/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Galera\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/09/galera_logo-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Nodes and Modes: Maintaining Galera Replication for MariaDB</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/painless-mariadb-replication-with-galera-clusters/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Galera\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/09/galera_logo-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Painless MariaDB Replication with Galera Clusters</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/microsoft-azure-is-the-worlds-largest-cloud/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Cloud Cash\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/08/cloud_cash-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Microsoft Azure is the World's Largest Cloud</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/raindog308/\" title=\"All posts by raindog308\" rel=\"author\">raindog308</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/raindog308\" class=\"bio-icon bio-icon-website\"></a><p class=\"bio-description\">I'm Andrew, techno polymath and long-time LowEndTalk community Moderator. My technical interests include all things Unix, perl, python, shell scripting, and relational database systems. I enjoy writing technical articles here on LowEndBox to help people get more out of their VPSes.</p></div></div><div class=\"feedback\"></div></div>"}