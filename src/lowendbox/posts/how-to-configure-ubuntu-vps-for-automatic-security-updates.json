{"id": "8492", "post": "<div class=\"post-8492 post type-post status-publish format-standard hentry category-tutorials tag-apt tag-linux tag-security tag-ubuntu tag-unattended tag-upgrades\" id=\"post-8492\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-configure-ubuntu-vps-for-automatic-security-updates/\" rel=\"bookmark\">How to Configure Ubuntu VPS for Automatic Security Updates</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \"> <a href=\"https://lowendbox.com/tag/apt/\" rel=\"tag\">apt</a>, <a href=\"https://lowendbox.com/tag/linux/\" rel=\"tag\">linux</a>, <a href=\"https://lowendbox.com/tag/security/\" rel=\"tag\">Security</a>, <a href=\"https://lowendbox.com/tag/ubuntu/\" rel=\"tag\">ubuntu</a>, <a href=\"https://lowendbox.com/tag/unattended/\" rel=\"tag\">unattended</a>, <a href=\"https://lowendbox.com/tag/upgrades/\" rel=\"tag\">upgrades</a> <img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \"> February 27, 2016 @ 6:56 pm, by Jarland Donnell</div><div class=\"storycontent tablelook\"><div class=\"page\" title=\"Page 1\"><div class=\"layoutArea\"><div class=\"column\"><p>Security risks are discovered each and every day. How can you know that your VPS is protected against the latest threats?</p><p>One of the best methods of keeping your server safe is to implement automatic updates within Ubuntu.</p><p>At first glance, this could seem like a difficult task. If you have several virtual private servers under your supervision, the task can seem unmanageable.</p><p>As a result, we\u2019ve created an easy to use guide for setting up unattended-upgrades and automatic updates on your Ubuntu VPS.</p></div></div></div><p><span id=\"more-8492\"></span></p><div class=\"page\" title=\"Page 1\"><div class=\"layoutArea\"><div class=\"column\"><p><strong>Getting Familiar with Unattended-Upgrades on Ubuntu</strong></p><p>The unattended-upgrades package can be used to automatically install package updates. Administrators can choose between updating all packages on a system or they can elect to install security updates only.</p><p>To get started, install the package by entering the following in a terminal:</p><blockquote><p>&gt; sudo apt-get install unattended-upgrades</p></blockquote><p>Once the installation is complete, you must enable it. Select Yes in the interactive menu then type:</p><blockquote><p>&gt; sudo dpkg-reconfigure -plow unattended-upgrades</p></blockquote><p>To configure unattended-upgrades, edit /etc/apt/apt.conf.d/50unattended-upgrades and adjust the following to fit your needs:</p><blockquote><p>/etc/apt/apt.conf.d/50unattended-upgrades<br>\nUnattended-Upgrade::Allowed-Origins {<br>\n//\u201d${distro_id} stable\u201d;<br>\n\u201c${distro_id} ${distro_codename}-security\u201d;<br>\n//\u201d${distro_id} ${distro_codename}-updates\u201d;<br>\n};</p></blockquote><p>In the above example, we are only installing the security updates.</p><p>The \u201c//\u201d infront of the \u201c${distro_id} denotes that the line is commented out. When you remove the \u201c//\u201d the process becomes active.</p><p><strong>What About Blacklisting Specific Update Packages?</strong></p><p>Certain packages can be blacklisted which prevents the automatic update process</p></div></div></div><div class=\"page\" title=\"Page 2\"><div class=\"layoutArea\"><div class=\"column\"><p>from occurring. To blacklist a package, add it to the list:</p></div></div><div class=\"layoutArea\"><div class=\"column\"><blockquote><p>Unattended-Upgrade::Package-Blacklist {<br>\n// &nbsp;\u201cvim\u201d;<br>\n// &nbsp;\u201clibc6\u201d;<br>\n// &nbsp;\u201clibc6-dev\u201d;<br>\n// &nbsp;\u201clibc6-i686\u201d;<br>\n};</p></blockquote><p>You may need to remove the \u201c//\u201d from the line so that system doesn\u2019t see the line as a comment as noted above.</p><p><strong>Configuring Automatic Updates on your Ubuntu VPS</strong></p><p>To enable automatic updates, you will need to edit /etc/apt/apt.conf.d/10periodic and set the appropriate apt configuration options.</p><p>The configuration below will allow your system to update the package list, downloads, and each of the installs available on your system.</p><p>The following commands will check for updates every day while cleaning out the local download archive each week.</p><blockquote><p>APT::Periodic::Update-Package-Lists \u201c1\u201d;<br>\nAPT::Periodic::Download-Upgradeable-Packages \u201c1\u201d;<br>\nAPT::Periodic::AutocleanInterval \u201c7\u201d;<br>\nAPT::Periodic::Unattended-Upgrade \u201c1\u201d;</p></blockquote><p>The results of unattended-upgrades will be logged to /var/log/unattended-upgrades.</p><p><strong>Getting VPS Update Notifications via Email</strong></p><p>When you setup Ubuntu to automatically update, it\u2019s a good practice to have the system dispatch an email when an update is performed.</p><p>Assuming you have PostFix or another MTA installed, you\u2019d do the following:</p><p>Go to Unattended-Upgrade::Mail in /etc/apt/apt.conf.d/50unattended-upgrades and add the following line at the end of the file:</p><blockquote><p>Unattended-Upgrade::Mail \u201cwhatever@yourdomain.com\u201d;</p></blockquote><p>Did this tutorial help you out? Please let us know in the comments sections below.</p><p>(Tutorial written by a valued contributor)</p></div></div></div><p class=\"dpsp-share-text\"></p><div id=\"dpsp-content-bottom\" class=\"dpsp-content-wrapper dpsp-shape-rounded dpsp-column-auto dpsp-has-spacing dpsp-no-labels dpsp-show-on-mobile dpsp-button-style-1 dpsp-has-icon-background dpsp-has-button-background dpsp-show-total-share-count dpsp-show-total-share-count-after\"><ul class=\"dpsp-networks-btns-wrapper dpsp-networks-btns-content dpsp-has-button-icon-animation\"><li><a rel=\"nofollow\" href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-configure-ubuntu-vps-for-automatic-security-updates%2F&amp;t=How%20to%20Configure%20Ubuntu%20VPS%20for%20Automatic%20Security%20Updates\" class=\"dpsp-network-btn dpsp-facebook dpsp-no-label dpsp-first\" title=\"Share on Facebook\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://twitter.com/intent/tweet?text=How%20to%20Configure%20Ubuntu%20VPS%20for%20Automatic%20Security%20Updates&amp;url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-configure-ubuntu-vps-for-automatic-security-updates%2F&amp;via=LowEndNetwork\" class=\"dpsp-network-btn dpsp-twitter dpsp-no-label\" title=\"Share on Twitter\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://www.linkedin.com/shareArticle?url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-configure-ubuntu-vps-for-automatic-security-updates%2F&amp;title=How%20to%20Configure%20Ubuntu%20VPS%20for%20Automatic%20Security%20Updates&amp;mini=true\" class=\"dpsp-network-btn dpsp-linkedin dpsp-no-label dpsp-last\" title=\"Share on LinkedIn\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li></ul><div class=\"dpsp-total-share-wrapper\"><span class=\"dpsp-icon-total-share\"></span><span class=\"dpsp-total-share-count\">4</span><span>shares</span></div></div><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/lowendprotection-homemade-raspberry-pi-security-cloud-camera-setup/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"LowEndProtection: Homemade Raspberry Pi Security Cloud Camera Setup\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/07/rpi_security1-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">LowEndProtection: Homemade Raspberry Pi Security Cloud Camera Setup</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/nginx-vs-openlitespeed-vs-apache/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Nginx vs. OpenLiteSpeed vs. Apache\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/nginx-vs-openlitespeed-vs-apache-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Nginx vs. OpenLiteSpeed vs. Apache</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/top-ten-things-that-should-be-in-your-dot-files/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Top Ten Things That Should Be In Your Dot Files\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Top Ten Things That Should Be In Your Dot Files</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/shields-up-protecting-your-wordpress-site-with-wordfence/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Shields Up! Protecting Your WordPress Site with Wordfence\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Shields Up! Protecting Your WordPress Site with Wordfence</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/jarland/\" title=\"All posts by Jarland Donnell\" rel=\"author\">Jarland Donnell</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/dc84c83792d2153562104e1830035d6c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/dc84c83792d2153562104e1830035d6c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><p class=\"bio-description\">Jarland Donnell was the administrator of LowEndBox from 2015 to 2016 and continues to be an active member of our community on LowEndTalk.</p></div></div><div class=\"feedback\"></div></div>"}