{"id": "19424", "post": "<div class=\"post-19424 post type-post status-publish format-standard hentry category-virtual-servers category-tutorials tag-configuration tag-larvel tag-mysql tag-ubuntu\" id=\"post-19424\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-set-up-a-laravel-application-on-ubuntu-16-04-vps/\" rel=\"bookmark\">How To Set Up A Laravel Application on Ubuntu 16.04 VPS</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \"> <a href=\"https://lowendbox.com/tag/configuration/\" rel=\"tag\">configuration</a>, <a href=\"https://lowendbox.com/tag/larvel/\" rel=\"tag\">larvel</a>, <a href=\"https://lowendbox.com/tag/mysql/\" rel=\"tag\">mysql</a>, <a href=\"https://lowendbox.com/tag/ubuntu/\" rel=\"tag\">ubuntu</a> <img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \"> May 15, 2019 @ 3:28 pm, by Dusko Savic</div><div class=\"storycontent tablelook\"><h1 id=\"howtosetupalaravelapplicationonubuntu1604\">How To Set Up A Laravel Application on Ubuntu 16.04 VPS</h1><p>Let us presume that you have already set up an Ubuntu 16.04 VPS server with Apache and that you have installed a bare bones <a href=\"https://laravel.com/\">Laravel</a> app. In this tutorial we shall install and create a MySQL database and connect the app to it. The final step is to fully configure the application via the <em>.env</em> file and <em>artisan</em>.</p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODIiIGhlaWdodD0iMTgyIiB2aWV3Qm94PSIwIDAgMTgyIDE4MiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"\" title=\"Laravel Icon Logo\" data-src=\"https://www.topicalebooks.com/uniimages/laravel_icon_logo.png\" alt=\"Laravel Icon Logo\" width=\"182\" height=\"182\">;</p><h2 id=\"whatwearegoingtocover\">What we are going to cover</h2><ul><li><strong>Creation of MySQL database</strong> for the app,</li><li><strong>Connecting Laravel app</strong> to the database</li><li><strong>Creating the .env file</strong> for Laravel environment variables</li><li><strong>Using <em>artisan</em></strong> to generate the app key</li><li><strong>Additional configuration</strong> for <em>timezone</em> and <em>locale</em></li></ul><h2 id=\"prerequisites\">PRE-REQUISITES</h2><p>We shall install and deploy Laravel 5 on Ubuntu 16.04:</p><ul><li>Starting with a clean VPS with</li><li>At least 512Mb of RAM and</li><li>15Gb of free disk space.</li><li>You will need root user access</li><li>You have already installed Laravel on your VPS and it is running properly</li></ul><p><span id=\"more-19424\"></span></p><h2 id=\"step1installmysqldatabase\">Step 1: Install MySQL Database</h2><p>First use SSH to access the VPS server. To install MySQL database, run the following command from Ubuntu command line:</p><pre><code>sudo apt install mysql-server -y\n</code></pre><p>This will install the MariaDB database server (an enhanced fork of MySQL). You will be asked to enter password for the MySQL root user. (Use Tab key from the keyboard to switch to the OK button and press Enter on the keyboard.)</p><p>Then secure MySQL installation by running:</p><pre><code>sudo /usr/bin/mysql_secure_installation\n</code></pre><p>Depending on the level of security you wish to achieve, you will have the option to adjust the minimum password complexity. Press 2 to select the highest level. Answer <code>y</code> to every prompt you get afterwards.</p><p>So you enter one password first, to enable access to MySQL, then ener another password to secure the installation. Store that second password as you will need it in Step 9 of this article.</p><p>To make it run on every system boot, enable it via <em>systemctl</em>:</p><pre><code>sudo systemctl enable mysql\n</code></pre><h2 id=\"step2creatingadatabase\">Step 2 Creating a Database</h2><p>Launch MySQL shell:</p><pre><code>sudo mysql -u root -p\n</code></pre><p>When asked, enter the second password from Step 1 of this tutorial.</p><p>Once in MySQL prompt, copy and paste the following code as a whole, then press Enter on the keyboard:</p><pre><code>CREATE DATABASE blogdb;\nUSE blogdb;\nCREATE TABLE posts (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(50),\n    body TEXT,\n    created DATETIME DEFAULT NULL,\n    modified DATETIME DEFAULT NULL\n);\n    INSERT INTO posts (title, body, created)\n    VALUES ('Sample title', 'This is the article body.', NOW());\n    GRANT ALL PRIVILEGES ON blogdb.* TO 'post_user'@'localhost' IDENTIFIED BY 'password9I%';\n    FLUSH PRIVILEGES;\n    EXIT;\n</code></pre><p>That will execute everything at once. Here is what it will look like in the terninal:</p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OTkiIGhlaWdodD0iMzAyIiB2aWV3Qm94PSIwIDAgNDk5IDMwMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"\" title=\"Create Database\" data-src=\"https://www.topicalebooks.com/uniimages/laravel_define_database.png\" alt=\"Laravel Create Database\" width=\"499\" height=\"302\"></p><p>The first line will create a database <em>blogdb</em> and from the second line on, will start using it. Then we create table called <em>posts</em> with two visible fields, <em>title</em> and <em>body</em>. Column <em>id</em>is necessary but will be used by only internally.</p><p>Then we populate table <em>posts</em> by inserting one sample value.</p><p>Command GRANT ALL PRIVILEGES creates a new user called <em>post</em>user_ and grants it all privileges on database <em>blogdb</em>. Currently there is only one table in this database, <em>posts</em>.</p><p>Command IDENTIFIED BY defines the password. It must contain lower and uppercase letters, as well as digits and special characters. Be sure to always change and invent new passwords for database users.</p><p>Command FLUSH PRIVILEGES; reloads the database with the changes made. The last command is EXIT, to leave the MySQL prompt and go back to the command line in Ubuntu itself.</p><h2 id=\"step3theenvfile\">Step 3 The .env File</h2><p>Navigate to the app folder and execute the <em>ls -a</em> command:</p><pre><code>cd /var/www/html/blog/\nls -a\n</code></pre><p>The following image shows the contents of the blog folder. Note that there are files starting with dot, such as <em>.end</em>, which is not visible with the usual <em>ls</em> command. Using <em>ls -a</em> will, however, show the dot files as well.</p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTMiIGhlaWdodD0iMTY2IiB2aWV3Qm94PSIwIDAgNTEzIDE2NiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"\" title=\"Show Database Credentials\" data-src=\"https://www.topicalebooks.com/uniimages/laravel_env.png\" alt=\"Laravel Show Database Credentials\" width=\"513\" height=\"166\"></p><p>The fact that the dot files are \u201cinvisible\u201d will not stop us from reading these files into an editor and changing them to finish the installation. The <em>.env</em> file contains debugging options, parameters to connect to the database and so on. So let us open it for editing:</p><pre><code>sudo nano /var/www/html/blog/.env\n</code></pre><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDgiIGhlaWdodD0iMjYxIiB2aWV3Qm94PSIwIDAgNTA4IDI2MSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"\" title=\"Show Database Credentials\" data-src=\"https://www.topicalebooks.com/uniimages/laravel_env_config.png\" alt=\"Laravel Show Database Credentials\" width=\"508\" height=\"261\"></p><h2 id=\"step4connecttheapptothedatabase\">Step 4 Connect the App To the Database</h2><p>Put the following into the .env file to enable access to the database you have created in previous steps:</p><pre><code>DB_DATABASE=blogdb\nDB_USERNAME=post_user\nDB_PASSWORD=assword9I%\n</code></pre><p>Save and close the file.</p><h3 id=\"theenvfilemaybemissing\">The .env File May Be Missing</h3><p>In some installations and scenarios, the <em>.env</em> file may be missing. You can download it from <a href=\"https://github.com/laravel/laravel/blob/master/.env.example\">here</a>, then create the missing <em>.env</em> file by opening it in an editor such as nano and copying the contents there.</p><p>With every installation there will be a file called <em>.env.example</em> so the other way to recreate the <em>.env</em> file is to use <em>.env.example</em> as a template, and create the <em>.env</em> files by copying:</p><pre><code>cd /var/www/html/blog\ncp .env.example .env\n</code></pre><h2 id=\"step5creatingthekeyfortheapplication\">Step 5 Creating the Key for the Application</h2><p>With each change of the the <em>.env</em> file, there will be several <em>artisan</em> commands to execute. As a minimum, you will need to run <em>php artisan key:generate</em>. If you don\u2019t, you will get a warning screen like this:</p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NDgiIGhlaWdodD0iMjU0IiB2aWV3Qm94PSIwIDAgNTQ4IDI1NCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"\" title=\"Show Database Credentials\" data-src=\"https://www.topicalebooks.com/uniimages/laravel_noencryption_key.png\" alt=\"Laravel Show Database Credentials\" width=\"548\" height=\"254\"></p><p>So execute the following commands in a row:</p><pre><code>php artisan key:generate\nphp artisan config:cache\ncomposer dump-autoload\n</code></pre><p>If you are changing the database, run the migration commands as well:</p><pre><code>php artisan migrate\n</code></pre><h2 id=\"step6additionalconfiguration\">Step 6 Additional Configuration</h2><p>In file <em>config/app.php</em> you can set up timezone and locale parameters. They look like this:</p><p><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OTUiIGhlaWdodD0iMzExIiB2aWV3Qm94PSIwIDAgNDk1IDMxMSI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2NmZDRkYiIvPjwvc3ZnPg==\" loading=\"lazy\" class=\"\" title=\"Show Database Credentials\" data-src=\"https://www.topicalebooks.com/uniimages/laravel_timezone_locale.png\" alt=\"Laravel Show Database Credentials\" width=\"495\" height=\"311\"></p><p>The command to access the file is:</p><pre><code>sudo nano /var/www/html/blog/config/app.php\n</code></pre><h3 id=\"whattodonext\">What To Do Next</h3><p>Now you have a rudimentary Laravel app on your server, running smoothly.Once you develop your app and test it, you may aim for a production level of system. See article \u201cHow To Set Up Laravel For Production: Ubuntu 16.04\u201d to improve your site before going to production phase.</p><p>Dusko Savic is a technical writer and Flutter programmer.<br>\n<a title=\"duskosavic.com\" href=\"hhttps://duskosavic.com/blog/\">duskosavic.com</a></p><p class=\"dpsp-share-text\"></p><div id=\"dpsp-content-bottom\" class=\"dpsp-content-wrapper dpsp-shape-rounded dpsp-column-auto dpsp-has-spacing dpsp-no-labels dpsp-show-on-mobile dpsp-button-style-1 dpsp-has-icon-background dpsp-has-button-background dpsp-show-total-share-count dpsp-show-total-share-count-after\"><ul class=\"dpsp-networks-btns-wrapper dpsp-networks-btns-content dpsp-has-button-icon-animation\"><li><a rel=\"nofollow\" href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-set-up-a-laravel-application-on-ubuntu-16-04-vps%2F&amp;t=How%20To%20Set%20Up%20A%20Laravel%20Application%20on%20Ubuntu%2016.04%20VPS\" class=\"dpsp-network-btn dpsp-facebook dpsp-no-label dpsp-first\" title=\"Share on Facebook\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://twitter.com/intent/tweet?text=How%20To%20Set%20Up%20A%20Laravel%20Application%20on%20Ubuntu%2016.04%20VPS&amp;url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-set-up-a-laravel-application-on-ubuntu-16-04-vps%2F&amp;via=LowEndNetwork\" class=\"dpsp-network-btn dpsp-twitter dpsp-no-label\" title=\"Share on Twitter\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://www.linkedin.com/shareArticle?url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-set-up-a-laravel-application-on-ubuntu-16-04-vps%2F&amp;title=How%20To%20Set%20Up%20A%20Laravel%20Application%20on%20Ubuntu%2016.04%20VPS&amp;mini=true\" class=\"dpsp-network-btn dpsp-linkedin dpsp-no-label dpsp-last\" title=\"Share on LinkedIn\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li></ul><div class=\"dpsp-total-share-wrapper\"><span class=\"dpsp-icon-total-share\"></span><span class=\"dpsp-total-share-count\">0</span><span>shares</span></div></div><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-disable-ipv6-on-ubuntu/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"how to disable ipv6 on your ubuntu\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/05/how-to-disable-ipv6-ubuntu-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Disable IPv6 on Ubuntu</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/server-space-1gb-windows-vps-in-nj-or-amsterdam-for-6-mo-plus-and-exclusive-coupon/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Server Space - 1GB Windows VPS in NJ or Amsterdam for $6/mo plus and Exclusive Coupon\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/serverspace2-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Server Space - 1GB Windows VPS in NJ or Amsterdam for $6/mo plus and Exclusive Coupon</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/hostigger-openstack-kvm-in-istanbul-plans-start-at-11-94-yr/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Hostigger \u2013 Openstack/KVM in Istanbul! Plans start at $11.94/yr!\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/leb-centered-small.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Hostigger \u2013 Openstack/KVM in Istanbul! Plans start at $11.94/yr!</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/limitless-hosting-amazing-discounts-on-cpanel-directadmin-web-hosting-and-reseller-hosting/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Limitless Hosting - Amazing discounts on cPanel/DirectAdmin Web Hosting and Reseller Hosting\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/leb-centered-small.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Limitless Hosting - Amazing discounts on cPanel/DirectAdmin Web Hosting and Reseller Hosting</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/dusko/\" title=\"All posts by Dusko Savic\" rel=\"author\">Dusko Savic</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/42872b609daecf21764ca315bcf13c04?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/42872b609daecf21764ca315bcf13c04?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://duskosavic.com\" class=\"bio-icon bio-icon-website\"></a><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.linkedin.com/in/dusko-savic-741487149/\" class=\"bio-icon bio-icon-linkedin\"></a><p class=\"bio-description\"></p></div></div><div class=\"feedback\"></div></div>"}