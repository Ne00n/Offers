{"id": "24058", "post": "<div class=\"post-24058 post type-post status-publish format-standard hentry category-tutorials tag-bitwarden tag-cli tag-linux tag-passwords\" id=\"post-24058\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/getting-nerdy-with-your-passwords-the-bitwarden-command-line-interface/\" rel=\"bookmark\">Getting Nerdy With Your Passwords: the Bitwarden Command Line Interface</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/bitwarden/\" rel=\"tag\">Bitwarden</a>, <a href=\"https://lowendbox.com/tag/cli/\" rel=\"tag\">cli</a>, <a href=\"https://lowendbox.com/tag/linux/\" rel=\"tag\">linux</a>, <a href=\"https://lowendbox.com/tag/passwords/\" rel=\"tag\">passwords</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> February 2, 2021 @ 12:00 am, by raindog308</div><div class=\"storycontent tablelook\"><p><a href=\"https://bitwarden.com/\">Bitwarden</a> is a cross-platform password manager that synchronizes between platforms (desktop, phone, tablet, etc.) and browsers.&nbsp; Unlike many products, you can fully self-host Bitwarden.</p><p>You might enjoy reading our <a href=\"https://lowendbox.com/blog/take-control-of-your-passwords-with-self-hosted-bitwarden/\">earlier piece on self-hosted Bitwarden</a>.</p><p>Most people using Bitwarden need their passwords to fill in web sites and other online services.&nbsp; But what if you want to access your passwords on the command line, perhaps because you need server access credentials?&nbsp; Can do!</p><p><span id=\"more-24058\"></span></p><h1>Installing bw</h1><p>The command-line client is called \u2018bw\u2019.&nbsp; To install it, you need to setup the Node Package Manager:</p><pre>apt install npm</pre><p>Next, install the Bitwarden cli:</p><pre>npm install -g @bitwarden/cli</pre><h1>If You\u2019re Self-Hosted</h1><p>By default, bw will try to talk to bitwarden.com (the official Bitwarden server).&nbsp; But if you\u2019re self-hosted, you can configure it to talk to your server.</p><p>Type this command:</p><pre>raindog308@client:~$ bw config server bitwarden.lowend.party\nSaved setting `config`.</pre><p>Now if you look in your home directory\u2019s .config folder, you\u2019ll see a \u201cBitwarden CLI\u201d subdirectory.&nbsp; In the data.json file in that directory, you\u2019ll see that bw is configured for your server.</p><pre>raindog308@client:~$ cat .config/Bitwarden\\ CLI/data.json \n{\n  \"installedVersion\": \"1.11.0\",\n  \"environmentUrls\": {\n    \"base\": \"https://bitwarden.lowend.party\",\n    \"api\": null,\n    \"identity\": null,\n    \"webVault\": null,\n    \"icons\": null,\n    \"notifications\": null,\n    \"events\": null,\n    \"enterprise\": null\n  }\n}</pre><p>If you\u2019re using the official bitwarden.com servers, this step is unnecessary.</p><h1>Logging In</h1><p>Let\u2019s login to our server.</p><pre>raindog308@client:~$ bw login\n? Email address: raindog308@raindog308.com\n? Master password: [hidden]\nYou are logged in!\n\nTo unlock your vault, set your session key to the `BW_SESSION` environment variable. ex:\n$ export BW_SESSION=\"xxxXXXxxx==\"\n\n$ env:BW_SESSION=\"xxxXXXxxx==\"\n\nYou can also pass the session key to any command with the `--session` option. ex:\n$ bw list items --session xxxXXXxxx==</pre><p>You can take that export statement and execute it:</p><pre>$ export BW_SESSION=\"xxxXXXxxx==\"</pre><p>Now you can use various bw commands.&nbsp; You can also put that command in your .bash_profile and it will be executed every time you login, but be aware of the security tradeoffs.</p><h1>Using bw</h1><p>Let\u2019s see what items we have in our vault.&nbsp; They\u2019ll come across as easily parsable json:</p><pre>raindog308@client:~$ bw list items --pretty\n[\n  {\n    \"object\": \"item\",\n    \"id\": \"2606ba51-8f15-42a8-a380-abe90177aa66\",\n    \"organizationId\": null,\n    \"folderId\": null,\n    \"type\": 1,\n    \"name\": \"lowendtalk.com\",\n    \"notes\": null,\n    \"favorite\": false,\n    \"login\": {\n      \"uris\": [\n        {\n          \"match\": null,\n          \"uri\": \"https://www.lowendtalk.com\"\n        }\n      ],\n      \"username\": \"raindog308\",\n      \"password\": \"my-secret-LET-password\",\n      \"totp\": null,\n      \"passwordRevisionDate\": null\n      },\n    \"collectionIds\": [],\n    \"revisionDate\": \"2020-06-29T22:47:45.373Z\"\n  }\n]</pre><p>If you only want one password:</p><pre>raindog308@client:~$ bw get password lowendtalk.com\nmy-secret-LET-password</pre><p>The CLI many other useful commands.&nbsp; For example, you get search:</p><pre class=\"p1\"><span class=\"s1\">bw list items --search lowend --pretty</span></pre><p>If you install the jq package via</p><pre>apt install jq</pre><p>You can then parse that easily:</p><pre class=\"p1\"><span class=\"s1\">bw get item lowendtalk.com | jq '.login.password'</span></pre><p>You can generate passwords:</p><pre><span class=\"s1\">raindog308@client:~$ bw generate -ulns --length 25</span>\n<span class=\"s1\">Vyd6F*qhck@8*X4cFh!v9@D2r</span></pre><p>In this example, the \u201c-ulns\u201d means \u201cinclude upper, lower, numbers, symbols\u201d.</p><p>The <a href=\"https://bitwarden.com/help/article/cli/\">command-line docs</a> outline many other things you can do with bw, or type bw \u2013help for a quick overview.</p><p>&nbsp;</p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/take-control-of-your-passwords-with-self-hosted-bitwarden/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Take Control of Your Passwords with Self-Hosted Bitwarden\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/06/bitwarden1-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Take Control of Your Passwords with Self-Hosted Bitwarden</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/artichost-has-some-professional-grade-vpses-at-great-prices-chicago-windows-of-linux-starting-at-3-99-mo/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"ArticHost has Some Professional-Grade VPSes at Great Prices! (Chicago Windows of Linux Starting at $...\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/01/arctichost-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">ArticHost has Some Professional-Grade VPSes at Great Prices! (Chicago Windows of Linux Starting at $...</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/centos-rhel-and-alma-the-plot-thickens/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"CentOS, RHEL, and Alma: The Plot Thickens!\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/leb-centered-small.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">CentOS, RHEL, and Alma: The Plot Thickens!</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/centos-rip-long-live-centos-stream/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"CentOS, RIP...Long Live CentOS Stream?!?\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/12/centos-logo-300-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">CentOS, RIP...Long Live CentOS Stream?!?</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/raindog308/\" title=\"All posts by raindog308\" rel=\"author\">raindog308</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/raindog308\" class=\"bio-icon bio-icon-website\"></a><p class=\"bio-description\">I'm Andrew, techno polymath and long-time LowEndTalk community Moderator. My technical interests include all things Unix, perl, python, shell scripting, and relational database systems. I enjoy writing technical articles here on LowEndBox to help people get more out of their VPSes.</p></div></div><div class=\"feedback\"></div></div>"}