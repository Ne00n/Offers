{"id": "27237", "post": "<div class=\"post-27237 post type-post status-publish format-standard hentry category-tutorials tag-htaccess tag-apache tag-https tag-linux tag-nginx tag-racknerd tag-web tag-wordpress\" id=\"post-27237\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-force-and-redirect-https-with-htaccess/\" rel=\"bookmark\">How to Force and Redirect HTTPS with .htaccess</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" width=\"16\" height=\"16\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/htaccess/\" rel=\"tag\">.htaccess</a>, <a href=\"https://lowendbox.com/tag/apache/\" rel=\"tag\">apache</a>, <a href=\"https://lowendbox.com/tag/https/\" rel=\"tag\">HTTPS</a>, <a href=\"https://lowendbox.com/tag/linux/\" rel=\"tag\">linux</a>, <a href=\"https://lowendbox.com/tag/nginx/\" rel=\"tag\">nginx</a>, <a href=\"https://lowendbox.com/tag/racknerd/\" rel=\"tag\">racknerd</a>, <a href=\"https://lowendbox.com/tag/web/\" rel=\"tag\">web</a>, <a href=\"https://lowendbox.com/tag/wordpress/\" rel=\"tag\">wordpress</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" width=\"16\" height=\"16\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> June 30, 2021 @ 12:00 am, by raindog308</div><div class=\"storycontent tablelook\"><p><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_https.png.webp\" loading=\"lazy\" class=\"alignright size-full wp-image-27224 litespeed-loaded\" data-src=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_https.png.webp\" alt=\"\" width=\"400\" height=\"280\" align=\"right\" hspace=\"20\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_https.png.webp 400w, https://lowendbox.com/wp-content/uploads/2021/05/rntut_https-300x210.png.webp 300w\" data-sizes=\"(max-width: 400px) 100vw, 400px\" sizes=\"(max-width: 400px) 100vw, 400px\" srcset=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_https.png.webp 400w, https://lowendbox.com/wp-content/uploads/2021/05/rntut_https-300x210.png.webp 300w\" data-was-processed=\"true\"></p><p><span style=\"font-weight: 400;\">This article was contributed by Dustin Cisneros at </span><a href=\"https://www.racknerd.com/\"><span style=\"font-weight: 400;\">RackNerd</span></a><span style=\"font-weight: 400;\">, a web hosting and infrastructure as a service provider which was <a href=\"https://lowendbox.com/blog/lowendtalk-2020-best-providers-award-results/\" target=\"_blank\" rel=\"noopener\">recently voted #1</a> by the <a href=\"https://www.lowendtalk.com\" target=\"_blank\" rel=\"noopener\">LowEndTalk</a> community! If you are looking for a Linux VPS, Ryzen VPS, Windows VPS, or shared and reseller hosting services, be sure to take a look at RackNerd\u2019s latest special offers </span><a href=\"https://lowendbox.com/?s=racknerd&amp;searchsubmit=Find\"><span style=\"font-weight: 400;\">here</span></a><span style=\"font-weight: 400;\">.</span></p><p><span style=\"font-weight: 400;\">Currently, most of the websites today run through SSL. Once you have installed the SSL certificate, proceed with the configuration of the application to serve all the web traffic over HTTPS. HTTP adds encryption to communication that occurs between a server and the client. HTTPS does this by using TLS/SSL. This encryption option isn\u2019t possible with HTTP. There are several other points that make HTTPS stand out compared to HTTP:</span></p><ul><li style=\"font-weight: 400;\" aria-level=\"1\"><span style=\"font-weight: 400;\">It is said that ranking system of search engines prefers HTTPS, so if you use it, there are more chances for your site to rank higher:</span></li><li style=\"font-weight: 400;\" aria-level=\"1\"><span style=\"font-weight: 400;\">Most of the commonly used browsers mark the websites that use HTTPS as safe.</span></li><li style=\"font-weight: 400;\" aria-level=\"1\"><span style=\"font-weight: 400;\">The information going from both server to client or client to server is encrypted, hence, greater security is provided.</span></li></ul><p><span style=\"font-weight: 400;\">Let\u2019s see how we can force all web traffic to HTTPS from HTTP using </span><b>.htaccess</b></p><h1><b>How to redirect HTTP to HTTPS via .htaccess</b></h1><p><span style=\"font-weight: 400;\">The .htaccess is basically a configuration file that is used on Apache\u2019s server. The dot in front represents that the file cannot be viewed, as it is hidden by default. .htaccess file defines how Apaches serve the files from the directory.&nbsp; .htaccess is usually placed in the domain root directory but the subdirectories can contain other .htaccess as well</span></p><p><span style=\"font-weight: 400;\">SSH or FTP can be used to either create a new file or edit the .htaccess file.</span></p><p><span style=\"font-weight: 400;\">Now for redirecting to HTTPS as discussed before, the code below should be used:</span></p><pre><b>RewriteEngine On</b>\n\n<b>RewriteCond %{HTTPS} off</b>\n\n<b>RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]</b></pre><p><span style=\"font-weight: 400;\">Let us discuss one by one what the above codes represent</span></p><pre><b>RewriteEngine On</b></pre><p><span style=\"font-weight: 400;\">The code above makes it possible to rewrite the rules</span></p><pre><b>RewriteCond %{HTTPS} off</b></pre><p><span style=\"font-weight: 400;\">The code above is used to find out whether the connection is of HTTP request type or not and if it is then the next command is executed</span></p><pre><b>RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]</b></pre><p><span style=\"font-weight: 400;\">This rule is able to rewrite </span><b>http://example.com/about to http://example.com</b><span style=\"font-weight: 400;\">/about </span><b>or</b> <b>http://www.example.com/about to </b><b>https:/</b><b>/</b><b>www.example.com/about</b></p><p><span style=\"font-weight: 400;\">Once these lines are added you should save your file and check after refreshing, this step will lead to all HTTP files being redirected to HTTPS</span></p><p><span style=\"font-weight: 400;\">There are other rules for redirecting HTTP to HTTPS for example:</span></p><pre><b>RewriteEngine On</b><b>\n</b><b>RewriteCond %{HTTPS} off</b><b>\n</b><b>RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]</b></pre><p><b>REQUEST_URI </b><span style=\"font-weight: 400;\">Page is accessed by using this URI</span></p><p><b>HTTP_HOST</b><span style=\"font-weight: 400;\"> Represents the hostname that is requested when visitor accesses the site.</span></p><h1><b>Redirecting non-WWW to WWW and HTTP to HTTPS&nbsp;</b></h1><p><span style=\"font-weight: 400;\">As we know, either WWW or non WWW Url is used for accessing any site. The lines below can be added to .htaccess to achieve the redirection above:</span></p><pre><span style=\"font-weight: 400;\">RewriteEngine On</span>\n<span style=\"font-weight: 400;\">RewriteCond %{HTTPS} off [OR]</span>\n<span style=\"font-weight: 400;\">RewriteCond %{HTTP_HOST} ^www\\.example\\.com [NC]</span>\n<span style=\"font-weight: 400;\">RewriteRule ^(.*)$ https://example.com/$1 [L,R=301]</span></pre><p><span style=\"font-weight: 400;\">&nbsp;Two conditions should be fulfilled in order to make it possible to redirect:</span></p><ol><li style=\"font-weight: 400;\" aria-level=\"1\"><span style=\"font-weight: 400;\">If the request starts with WWW or not.</span></li><li style=\"font-weight: 400;\" aria-level=\"1\"><span style=\"font-weight: 400;\">Connection should not be HTTPS</span></li></ol><p><span style=\"font-weight: 400;\">Even one of the conditions is enough to execute the rewrite rule.</span></p><h1><b>Redirecting non-WWW to WWW and HTTP to HTTPS</b></h1><p><span style=\"font-weight: 400;\">Run the code :</span></p><pre><span style=\"font-weight: 400;\">RewriteEngine On</span>\n<span style=\"font-weight: 400;\">RewriteCond %{HTTPS} off [OR]</span>\n<span style=\"font-weight: 400;\">RewriteCond %{HTTP_HOST} ^example\\.com [NC]</span>\n<span style=\"font-weight: 400;\">RewriteRule ^(.*)$ https://www.example.com/$1 [R=301,L]</span></pre><p><span style=\"font-weight: 400;\">If you have any questions or feedback, we would love to hear it in the comments section below! We hope you found this tutorial on how to redirect your website to HTTPS helpful.</span></p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/lowendboxtv-weekend-update-for-june-26-2021/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Weekend Update 20210626\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/06/video-thumbnail-leb-copy-1-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">LowEndBoxTV Weekend Update for June 26, 2021</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/racknerd-pure-ssd-kvm-vps-in-los-angeles-with-asia-oceania-optimized-bandwidth-from-14-89-year/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"RackNerd Logo\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/01/racknerd_300-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">RackNerd - Pure SSD KVM VPS in Los Angeles with Asia/Oceania Optimized Bandwidth from $14.89/Year!</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-install-nagios-on-a-ubuntu-20-04-vps/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Install Nagios on a Ubuntu 20.04 VPS\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/05/rntut_nagios-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Install Nagios on a Ubuntu 20.04 VPS</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-set-up-nginx-server-blocks-on-ubuntu-20-04/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Set Up Nginx Server Blocks on Ubuntu 20.04\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/06/how-to-setup-nginx-server-blocks-ubuntu-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Set Up Nginx Server Blocks on Ubuntu 20.04</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/raindog308/\" title=\"All posts by raindog308\" rel=\"author\">raindog308</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/raindog308\" class=\"bio-icon bio-icon-website\"></a><p class=\"bio-description\">I'm Andrew, techno polymath and long-time LowEndTalk community Moderator. My technical interests include all things Unix, perl, python, shell scripting, and relational database systems. I enjoy writing technical articles here on LowEndBox to help people get more out of their VPSes.</p></div></div><div class=\"feedback\"></div></div>"}