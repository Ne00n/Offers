{"id": "27233", "post": "<div class=\"post-27233 post type-post status-publish format-standard hentry category-tutorials tag-linux tag-monitoring tag-nagios tag-racknerd tag-ubuntu\" id=\"post-27233\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-install-nagios-on-a-ubuntu-20-04-vps/\" rel=\"bookmark\">How to Install Nagios on a Ubuntu 20.04 VPS</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" width=\"16\" height=\"16\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/linux/\" rel=\"tag\">linux</a>, <a href=\"https://lowendbox.com/tag/monitoring/\" rel=\"tag\">monitoring</a>, <a href=\"https://lowendbox.com/tag/nagios/\" rel=\"tag\">nagios</a>, <a href=\"https://lowendbox.com/tag/racknerd/\" rel=\"tag\">racknerd</a>, <a href=\"https://lowendbox.com/tag/ubuntu/\" rel=\"tag\">ubuntu</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" width=\"16\" height=\"16\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> June 23, 2021 @ 12:00 am, by raindog308</div><div class=\"storycontent tablelook\"><p><span style=\"font-weight: 400;\"><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_nagios.png.webp\" loading=\"lazy\" class=\"alignright size-full wp-image-27225 litespeed-loaded\" data-src=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_nagios.png.webp\" alt=\"\" width=\"400\" height=\"278\" align=\"right\" hspace=\"20\" data-srcset=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_nagios.png.webp 400w, https://lowendbox.com/wp-content/uploads/2021/05/rntut_nagios-300x209.png.webp 300w\" data-sizes=\"(max-width: 400px) 100vw, 400px\" sizes=\"(max-width: 400px) 100vw, 400px\" srcset=\"https://lowendbox.com/wp-content/uploads/2021/05/rntut_nagios.png.webp 400w, https://lowendbox.com/wp-content/uploads/2021/05/rntut_nagios-300x209.png.webp 300w\" data-was-processed=\"true\">This article was contributed by Dustin Cisneros at </span><a href=\"https://www.racknerd.com/\"><span style=\"font-weight: 400;\">RackNerd</span></a><span style=\"font-weight: 400;\">, a web hosting and infrastructure as a service provider which was <a href=\"https://lowendbox.com/blog/lowendtalk-2020-best-providers-award-results/\" target=\"_blank\" rel=\"noopener\">recently voted #1</a> by the <a href=\"https://www.lowendtalk.com\" target=\"_blank\" rel=\"noopener\">LowEndTalk</a> community! If you are looking for a Linux VPS, Ryzen VPS, Windows VPS, or shared and reseller hosting services, be sure to take a look at RackNerd\u2019s latest special offers </span><a href=\"https://lowendbox.com/?s=racknerd&amp;searchsubmit=Find\"><span style=\"font-weight: 400;\">here</span></a><span style=\"font-weight: 400;\">.</span></p><p><span style=\"font-weight: 400;\">Nagios is a well-known open-source software that is used for monitoring networks and systems. Nagios has the ability to monitor activities of a host and the associated services, and if something is out of order, Nagios can report it through multiple notification methods. In the text below, we will take a look at how Nagios is installed:</span></p><h1><b>Installation guide</b></h1><p><span style=\"font-weight: 400;\">To begin the installation process, run the command listed below as a </span><b>user with sudo privileges:</b></p><pre><b>sudo apt update</b>\n\n<b>sudo apt install nagios4 nagios-plugins-contrib nagios-nrpe-plugin</b></pre><p><span style=\"font-weight: 400;\">This will result in the installation of multiple packages that include: Apache, Nagios plugin and nagios core. The configuration file of Apache that comes with Nagios is dependent upon mod_authz_groupfile and mod_auth_digest modules. It is noteworthy that prior enabling of these modules isn\u2019t there by default.&nbsp; </span><b>mod_authz_groupfile</b><span style=\"font-weight: 400;\"> module is involved in either allowing or denying access to the authenticated by group membership. After that, to enable the MD5 digest authentication the module </span><b>mod_authz_groupfile</b><span style=\"font-weight: 400;\"> is used.</span></p><p><span style=\"font-weight: 400;\">&nbsp;The following command must be run in order to enable the 2 modules above:</span></p><pre><b>sudo a2enmod authz_groupfile auth_digest</b></pre><p><span style=\"font-weight: 400;\">The configuration set by default for Apache permits only localhost and private IPs to access Nagios. This article guides you to change the default configuration in such a way that allows only authenticated users to view issue commands and interface. The next step involves opening the configuration file via the text editor:</span></p><pre><b>sudo nano /etc/apache2/conf-enabled/nagios4i.conf</b></pre><p><span style=\"font-weight: 400;\">Next step includes commenting the lines that begin with require ip, \u201c&lt;Files \u201ccmd.cgi\u201d&gt;\u201d, \u201c\u201d and Require all granted, followed by uncommenting of the line that </span><b>contains Require valid-user</b><span style=\"font-weight: 400;\"> within the following file:</span></p><pre><b>/etc/apache2/conf-enabled/nagios4-cgi.conf</b></pre><p><span style=\"font-weight: 400;\">Information regarding the configuration of multiple levels of access is additionally contained in the file above.</span></p><p><span style=\"font-weight: 400;\">After the above steps use the command below for restarting Apache:</span></p><pre><b>sudo systemctl restart apache2</b></pre><p><span style=\"font-weight: 400;\">Now in order to check the status of Nagios and Apache, the following command can be used:</span></p><pre><b>sudo systemctl status apache2sudo systemctl status nagios4</b></pre><p><span style=\"font-weight: 400;\">This will confirm whether the two are working appropriately or not.</span></p><h1><b>How to create a user account?</b></h1><p><span style=\"font-weight: 400;\">After installation, the inherent configuration of Nagios allows a user named \u201cnagiosadmin\u201d all the administrative authorities through which it is possible to log into nagios\u2019 web interface, and the management of inventory can be done as well. The htdigest command below can be used for the setting up of the by default user discussed previously:</span></p><pre><b>sudo htdigest -c /etc/nagios4/htdigest.users Nagios4 nagiosadmin</b></pre><p><span style=\"font-weight: 400;\">To allow the changes to completely occur, restart Apache.</span></p><pre><b>sudo systemctl restart apache2</b></pre><h1><b>How to access Nagios web interface</b></h1><p><span style=\"font-weight: 400;\">Put in either the public IP address into your web browser as follows:</span></p><pre><b>http(s)://your_VPS_ip_address/nagios</b></pre><p><span style=\"font-weight: 400;\">Then, put in the login information for the default nagiosadmin user and you will see the Nagios home page.</span></p><h1><b>How to configure the firewall</b></h1><p><span style=\"font-weight: 400;\">UFW tool comes with Ubuntu that can be used for configuration of firewall. After the enabling of firewall, open the HTTPS and HTTP ports and insert the following command:</span></p><p><b>sudo ufw allow Apache</b></p><p><span style=\"font-weight: 400;\">Do you use Nagios or do you prefer another monitoring software instead? Let us know your feedback/comments below!</span></p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-install-directadmin-on-debian-10/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Install DirectAdmin on Debian 10\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/05/rntut_directadmin-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Install DirectAdmin on Debian 10</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/bruce-buffer-is-excited-about-a-lowendbox-announcement-weekend-update-for-june-12-2021/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"LowEndBoxTV Weekend Update\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/05/weekend-update-leb-dateless-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Bruce Buffer is EXCITED About a LowEndBox Announcement! (Weekend Update for June 12, 2021)</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-use-the-chattr-command-in-linux/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Use the Chattr Command in Linux\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/05/rntut_chattr-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Use the Chattr Command in Linux</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/community-news-racknerd-moving-to-new-headquarter-locations-in-rancho-cucamonga-california/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Community News: RackNerd Moving to New Headquarter Offices in Rancho Cucamonga, California\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/01/racknerd_300-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Community News: RackNerd Moving to New Headquarter Offices in Rancho Cucamonga, California</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/raindog308/\" title=\"All posts by raindog308\" rel=\"author\">raindog308</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/raindog308\" class=\"bio-icon bio-icon-website\"></a><p class=\"bio-description\">I'm Andrew, techno polymath and long-time LowEndTalk community Moderator. My technical interests include all things Unix, perl, python, shell scripting, and relational database systems. I enjoy writing technical articles here on LowEndBox to help people get more out of their VPSes.</p></div></div><div class=\"feedback\"></div></div>"}