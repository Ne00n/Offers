{"id": "23745", "post": "<div class=\"post-23745 post type-post status-publish format-standard hentry category-tutorials tag-centos-8-ssh tag-how-to tag-setup-ssh-keys tag-ssh-keys tag-tutorial\" id=\"post-23745\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-set-up-ssh-keys-on-centos-8/\" rel=\"bookmark\">How to Set Up SSH Keys on CentOS 8</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/centos-8-ssh/\" rel=\"tag\">centos 8 ssh</a>, <a href=\"https://lowendbox.com/tag/how-to/\" rel=\"tag\">how to</a>, <a href=\"https://lowendbox.com/tag/setup-ssh-keys/\" rel=\"tag\">setup ssh keys</a>, <a href=\"https://lowendbox.com/tag/ssh-keys/\" rel=\"tag\">ssh keys</a>, <a href=\"https://lowendbox.com/tag/tutorial/\" rel=\"tag\">tutorial</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> February 8, 2021 @ 12:00 am, by Jon Biloh</div><div class=\"storycontent tablelook\"><p><a><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2020/06/how-to-setup-ssh-keys-on-centos-8.jpg.webp\" loading=\"lazy\" class=\"screenshot litespeed-loaded\" title=\"How to setup SSH Keys on CentOS 8\" data-src=\"https://lowendbox.com/wp-content/uploads/2020/06/how-to-setup-ssh-keys-on-centos-8.jpg.webp\" alt=\"How to setup SSH Keys on CentOS 8\" width=\"410\" height=\"236\" data-was-processed=\"true\"></a></p><p><span style=\"font-weight: 400;\">Secure Shell, or SSH, is an encrypted protocol that is used for logging on to your remote servers. It is meant to replace the more traditional way of using a password to provide authentication. In this guide, we will show you how you can generate SSH key pairs on your CentOS 8 system. Then we will proceed on how you would be able to set up an SSH-based authentication system for your servers.</span></p><p><span id=\"more-23745\"></span></p><p><b>1) Check for existing SSH key pairs</b></p><p><span style=\"font-weight: 400;\">To get started, we need to create the public and private keys that will be used in the authentication process. There might be some already generated keys on your CentOS system, and you can check that via this command:</span></p><blockquote><p><i><span style=\"font-weight: 400;\">ls -l ~/.ssh/id_*.pub</span></i></p></blockquote><p><span style=\"font-weight: 400;\">If the output says that no such directory exists, then there are no existing keys on your system. However, even if there are any keys, you can generate new ones. Although, be sure to back up the existing keys as the new keys will overwrite them.</span></p><p><b>2) Generate new SSH keys</b></p><p><span style=\"font-weight: 400;\">Now, to generate the new key pairs, run the following command:</span></p><blockquote><p><i><span style=\"font-weight: 400;\">ssh-keygen -t rsa -b 4096 -C [your_email@domain.com]</span></i></p></blockquote><p><span style=\"font-weight: 400;\">You will then be prompted to choose a location to save the keys; press enter to select the default one.</span></p><p><span style=\"font-weight: 400;\">After that, you will be asked for a passphrase. This is an extra security step, and it is optional. If you don\u2019t want to use a passphrase, press enter to continue.</span></p><p><b>3) Verify</b></p><p><span style=\"font-weight: 400;\">To verify the generation of the SSH keys, run the following command:</span></p><blockquote><p><i><span style=\"font-weight: 400;\">ls ~/.ssh/id_*</span></i></p></blockquote><p><span style=\"font-weight: 400;\">Your output should look something like this:</span></p><blockquote><p><span style=\"font-weight: 400;\">/home/username/.ssh/id_rsa /home/username/.ssh/id_rsa.pub</span></p></blockquote><p><b>4) Copy the key to your server</b></p><p><span style=\"font-weight: 400;\">Now that you have generated the SSH keys, it is time to use them for authentication with your server. To do that, you will be using the ssh-copy-id command-line utility.</span></p><p><span style=\"font-weight: 400;\">Use the following command to install ssh-copy-id, if not already available:</span></p><blockquote><p><i><span style=\"font-weight: 400;\">cat ~/.ssh/id_rsa.pub | ssh remote_username@server_ip_address \u201cmkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys\u201d</span></i></p></blockquote><p><span style=\"font-weight: 400;\">Now you need to append the SSH key to your server. Run the following command:</span></p><blockquote><p><i><span style=\"font-weight: 400;\">ssh-copy-id remote_username@server_ip_address</span></i></p></blockquote><p><span style=\"font-weight: 400;\">It will prompt you for the remote username\u2019s password, type that in and press enter. You should be greeted with the output that a key has been added.</span></p><p><b>7) Login to your server with the SSH keys</b></p><p><span style=\"font-weight: 400;\">We have successfully enabled SSH key authentication on your server now. To login using these SSH keys, run the following command:</span></p><blockquote><p><i><span style=\"font-weight: 400;\">ssh user@server_ip</span></i></p></blockquote><p><span style=\"font-weight: 400;\">You will be prompted for your passphrase, or if you did not set one, you would be logged in immediately.</span></p><p><b>8) Disable password authentication</b></p><p><span style=\"font-weight: 400;\">Now that you have a working SSH key authentication system, there is no need for password authentication. To disable the password authentication, log in to your server.</span></p><p><span style=\"font-weight: 400;\">Then open the config file using this command:</span></p><blockquote><p><i><span style=\"font-weight: 400;\">sudo nano /etc/ssh/sshd_config</span></i></p></blockquote><p><span style=\"font-weight: 400;\">Then search for these arguments and modify them accordingly:</span></p><blockquote><p><span style=\"font-weight: 400;\">PasswordAuthentication no</span></p><p><span style=\"font-weight: 400;\">ChallengeResponseAuthentication no</span></p><p><span style=\"font-weight: 400;\">UsePAM no</span></p></blockquote><p><span style=\"font-weight: 400;\">Now, all you need to do this refresh the SSH service and the password authentication for your server would be disabled.</span></p><blockquote><p><i><span style=\"font-weight: 400;\">sudo systemctl restart ssh</span></i></p></blockquote><p><b>Have any questions about setting up SSH keys on CentOS 8? Please feel free to leave your questions and feedback in the comments section below!</b></p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-install-nginx-on-a-debian-10-vps/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Install NGINX on a Debian 10 VPS\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/11/how-to-install-nginx-on-a-debian-10-vps-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Install NGINX on a Debian 10 VPS</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/setting-up-and-maintaining-a-minecraft-server/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to setup and maintain a Minecraft Server\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/05/setting-up-minecraft-server-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Setting Up and Maintaining a Minecraft Server</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/highly-available-wordpress-from-scratch-part-6/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Setup a Highly Available WordPress Site From Scratch, Part 6\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/05/highly-available-wordpress-part-6-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Setup a Highly Available WordPress Site From Scratch, Part 6</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/5-common-uses-for-a-lowendbox-cheap-vps/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"5 Common Uses for a LowEndBox (Cheap VPS)\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/5-common-uses-for-lowendbox-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">5 Common Uses for a LowEndBox (Cheap VPS)</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/jbiloh/\" title=\"All posts by Jon Biloh\" rel=\"author\">Jon Biloh</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/f766d6dc4b5f406b9f3cb0339d48de95?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/f766d6dc4b5f406b9f3cb0339d48de95?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/jbiloh\" class=\"bio-icon bio-icon-website\"></a><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"http://Jbiloh\" class=\"bio-icon bio-icon-twitter\"></a><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.linkedin.com/in/jon-biloh-4b32598/\" class=\"bio-icon bio-icon-linkedin\"></a><p class=\"bio-description\">I'm Jon Biloh and I own LowEndBox and LowEndTalk. I've spent my nearly 20 year career in IT building companies and now I'm excited to focus on building and enhancing the community at LowEndBox and LowEndTalk.</p></div></div><div class=\"feedback\"></div></div>"}