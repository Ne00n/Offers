{"id": "23478", "post": "<div class=\"post-23478 post type-post status-publish format-standard hentry category-tutorials tag-file-permissions tag-linux tag-linux-file-permissions tag-security tag-sysadmin tag-system-administation tag-tutorial\" id=\"post-23478\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/guide-to-understanding-file-permissions-in-linux/\" rel=\"bookmark\">Guide to Understanding File Permissions in Linux</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/file-permissions/\" rel=\"tag\">file permissions</a>, <a href=\"https://lowendbox.com/tag/linux/\" rel=\"tag\">linux</a>, <a href=\"https://lowendbox.com/tag/linux-file-permissions/\" rel=\"tag\">linux file permissions</a>, <a href=\"https://lowendbox.com/tag/security/\" rel=\"tag\">Security</a>, <a href=\"https://lowendbox.com/tag/sysadmin/\" rel=\"tag\">sysadmin</a>, <a href=\"https://lowendbox.com/tag/system-administation/\" rel=\"tag\">system administation</a>, <a href=\"https://lowendbox.com/tag/tutorial/\" rel=\"tag\">tutorial</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> May 16, 2021 @ 7:16 am, by raindog308</div><div class=\"storycontent tablelook\"><p><a target=\"_blank\" rel=\"noopener noreferrer\"><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2020/05/Understanding-File-Permissions-in-Linux.jpg.webp\" loading=\"lazy\" class=\"screenshot litespeed-loaded\" title=\"Understanding File Permissions in Linux Guide\" data-src=\"https://lowendbox.com/wp-content/uploads/2020/05/Understanding-File-Permissions-in-Linux.jpg.webp\" alt=\"Understanding File Permissions in Linux Guide\" width=\"410\" height=\"239\" data-was-processed=\"true\"></a>Since very early in its history, Unix systems have supported file and directory permissions. This security mechanism allow users to make their files private from other users, and for administrators to protect system configuration information from unauthorized changes.</p><p>In this tutorial we\u2019ll go over the basics of Unix file permissions.</p><h1>Users and Groups</h1><p>All files are owned by both a person and a group. Using \u201cls -l\u201d it\u2019s possible to see who the owner and group is. Here is an example:</p><pre># ls -l\n-rw-rw-r-- 1 frank team 2205 Aug 05 2017 /home/frank/project.txt</pre><p>In this case, the user \u2018frank\u2019 is the owner and \u201cteam\u201d is the group. Multiple users may be members of the group \u201cteam\u201d.</p><p><span id=\"more-23478\"></span></p><h1>The Three Types</h1><p>All files and directories have three different classes of users: owner, group, and other. For example, here is /etc/passwd on a Debian 10 system:</p><pre># ls -l /etc/passwd\n-rw-r--r-- 1 root root 3140 Sep 21 2019 /etc/passwd</pre><p>The permissions are shown on the extreme left of that output:</p><pre>-rw-r--r--</pre><p>The first character indicates the type of filesystem entry. In this case, a \u201c-\u201d indicates that it\u2019s a normal file. If it was a directory, this would be a \u201cd\u201d.</p><p>Next are three groups of permissions for owner, group, and other. Think of the line as divided this way:</p><pre>-    rw-    r--    r--\n     owner  group  others</pre><p>In this case, we see for the first group (owner, characters 2-4) \u201crw-\u201c. This means \u201cread\u201d and \u201cwrite\u201d permissions have been granted to the owner. The other possible permission, execute, has not been granted. For both group and others, only read permission is granted. In short, root can read/write the file, and everyone else can read but cannot write.</p><p>Let\u2019s take some more examples:</p><pre>-rw------- 1 frank frank 2205 Aug 05 2017 /home/frank/secret_diary.txt</pre><p>In this case, the file is owned by frank and the group \u201cfrank\u201d. It\u2019s common on Unix systems for each user to also have his or her own group. It\u2019s likely the only member of the \u201cfrank\u201d group is frank. In this example, only frank has read and write permissions on the files and no one else has any permissions.</p><p>Let\u2019s look at the project.txt file mentioned above:</p><pre>-rw-rw-r-- 1 frank team 2205 Aug 05 2017 /home/frank/project.txt</pre><p>Here, user \u201cfrank\u201d has read/write permissions, and so do the members of the \u201cteam\u201d group. All other users can read the file but cannot change it.</p><p>What about executable files? Here is /bin/ls, the ls command itself:</p><pre># ls -l /bin/ls\n-rwxr-xr-x 1 root root 130736 Feb 22 2017 /bin/ls</pre><p>Here, we see that the owner (root) has read, write, and execute, as does the \u201croot\u201d group. Other users on the system have read and execute, so everyone can execute it. Generally, read permission goes with execute.</p><p>Often when you create a shell script, you want to execute it. For example:</p><pre># cat script.sh \n#!/bin/bash\n\necho \"here is my script executing\"\n\n# ./script.sh\n-su: ./script.sh: Permission denied</pre><p>The problem is that the you don\u2019t have execute permissions on the script:</p><pre># ls -l script.sh \n-rw-r--r-- 1 root root 49 May 25 15:09 script.sh</pre><p>How to add them? The chmod command.</p><h1>The chmod Command</h1><p>chmod has two forms. The more common is in the form</p><pre>chmod {which type}{+ or -}{permission} file...</pre><p>For example, to make the above script.sh executable by the owner:</p><pre># chmod u+x script.sh \n# ls -l script.sh \n-rwxr--r-- 1 root root 49 May 25 15:09 script.sh\n# ./script.sh \nhere is my script executing\n#</pre><p>The types are:</p><pre>u = user (owner)\ng = group\na = all (everyone)</pre><p>If we later want to remove the permission, we can use chmod again:</p><pre># ls -l script.sh \n-rwxr--r-- 1 root root 49 May 25 15:09 script.sh\n# chmod u-x script.sh \n# ls -l script.sh \n-rw-r--r-- 1 root root 49 May 25 15:09 script.sh\n#</pre><p>The other form of chmod is to use numbers. Each permission has a value:</p><pre>4 = read\n2 = write\n1 = execute</pre><p>Simply add up the permissions you want for each type and use the result. For example, to set a file with read, write, and execute for the owner (4+2+1=7), and read an execute for group and other (4+1=5), we would issue this command:</p><pre># ls -l script.sh \n-rw-r--r-- 1 root root 49 May 25 15:09 script.sh\n# chmod 755 script.sh \n# ls -l script.sh \n-rwxr-xr-x 1 root root 49 May 25 15:09 script.sh</pre><h1>Directories</h1><p>One final important thing to learn is that directories are a little special. For example, here is the /etc directory:</p><pre># ls -ld /etc\ndrwxr-xr-x 169 root root 12288 May 25 09:50 /etc</pre><p>The execute permissions mean that users can enter into that directory. In general, directories always have both read and execute, and they are either both turned on for a type or turned off. For example, a directory that only frank and team can get into would look like this:</p><pre>drwxrwx--- 169 frank team 12288 May 25 09:50 /project/private</pre><p>Also, if a user does not have write permission in a directory, they cannot create files in that directory. However, if the user has write permission on exiting files, they can modify those files.</p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-find-files-in-linux/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Find Files in Linux\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/05/Finding-files-in-linux-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Find Files in Linux</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/lowendboxtv-building-a-highly-available-wordpress-site-part-2-configuring-the-nodes/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"LowEndBoxTV: Building a Highly Available WordPress Site, Part 2: Configuring the Nodes\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/05/WP-HA-2-leb-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">LowEndBoxTV: Building a Highly Available WordPress Site, Part 2: Configuring the Nodes</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/stu-telecom-is-launching-an-ip-reputation-service/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"STU Telecom is Launching an IP Reputation Service\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/04/stutele-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">STU Telecom is Launching an IP Reputation Service</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/patch-your-exim-installs-21-nails-vulnerability/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Patch Your Exim Installs: 21 Nails Vulnerability\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/05/exim_300-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Patch Your Exim Installs: \"21 Nails\" Vulnerability</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/raindog308/\" title=\"All posts by raindog308\" rel=\"author\">raindog308</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/4ce3b8640a70e05bd73ac25b8a37821c?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/raindog308\" class=\"bio-icon bio-icon-website\"></a><p class=\"bio-description\">I'm Andrew, techno polymath and long-time LowEndTalk community Moderator. My technical interests include all things Unix, perl, python, shell scripting, and relational database systems. I enjoy writing technical articles here on LowEndBox to help people get more out of their VPSes.</p></div></div><div class=\"feedback\"></div></div>"}