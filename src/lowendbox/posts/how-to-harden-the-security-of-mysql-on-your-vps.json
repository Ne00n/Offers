{"id": "9140", "post": "<div class=\"post-9140 post type-post status-publish format-standard hentry category-tutorials tag-mysql tag-security tag-vps\" id=\"post-9140\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-harden-the-security-of-mysql-on-your-vps/\" rel=\"bookmark\">How to Harden the Security of MySQL on your VPS</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \"> <a href=\"https://lowendbox.com/tag/mysql/\" rel=\"tag\">mysql</a>, <a href=\"https://lowendbox.com/tag/security/\" rel=\"tag\">Security</a>, <a href=\"https://lowendbox.com/tag/vps/\" rel=\"tag\">VPS</a> <img data-lazyloaded=\"1\" src=\"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \"> October 22, 2016 @ 8:29 am, by Jon Biloh</div><div class=\"storycontent tablelook\"><p style=\"text-align: center;\"><a href=\"https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial.png\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNzEiIGhlaWdodD0iNzAiIHZpZXdCb3g9IjAgMCAyNzEgNzAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNjZmQ0ZGIiLz48L3N2Zz4=\" loading=\"lazy\" class=\"alignnone size-full wp-image-3957\" data-src=\"https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial.png.webp\" alt=\"lowendtutorial\" width=\"271\" height=\"70\"></a></p><p>Security is a critical component of any database application. Did you know that a default MySQL installation can leave your database vulnerable to cyber threats?</p><p>There several different implementations of the SQL database available on Linux and UNIX systems. MySQL and MariaDB are the most popular options for deploying relational databases in server environments.</p><p>In this article, we will demonstrate a few tips that will help you improve the security of your VPS hosted database. In the examples, we\u2019ll use MySQL, however, these techniques can also be applied to other database implementations such as MariaDB.</p><p><span id=\"more-9140\"></span></p><p><strong>Install MySQL Server</strong></p><p>If you already have MySQL installed, skip to the next step. If you do not have MySQL, use these commands to install the database.</p><pre class=\"code\">&gt; yum install mysql-server\n\n&gt; apt-get install mysql-server\n</pre><p>You will be prompted to choose a new password for the database. It\u2019s always best to go ahead and setup the root user with a password even though it may be possible to skip this step.</p><p>Once this is complete, MySQL provides an optional command that will immediately bolster the security of your databases. Just execute the following:</p><pre class=\"code\">&gt; sudo mysql_secure_installation\n</pre><p>This command will prompt you for the root password that you setup in the previous step.</p><p>Immediately thereafter, you will prompted to answer a series of questions. The first question is if you\u2019d like to change the root password. Assuming that you have just selected a new root password, there is no need to change it.</p><p>You should answer \u201cY\u201d to all of the remaining questions.</p><p>This will remove the ability for an anonymous user to log into MySQL by default. The wizard will also disable the root account from logging in remotely with root credentials.</p><p>The process will then remove some of the insecure testing databases included with the app. The last part of the process updates the running MySQL instance to reflect these changes by running a \u201cflush privileges\u201d command.</p><p>These basic actions will help you increase the security around a typical MySQL installation. You might be wondering, \u201cWhat if I need to use my root account to remotely connect from a different server on the same private network?\u201d</p><p><strong>What if you need Root Remote Access to your DB?</strong></p><p>Wouldn\u2019t the preceding steps prevent remote root database access from being possible? The answer to this question is \u201cYes.\u201d</p><p>Please keep in mind that the best practices for database security say that you should never use a root account for production databases.</p><p>If you do use the root password for remote connections, you should reconsider the overall design of your architecture. Best practices suggest that you create a user account, assign privileges and allow that account to connect to your MySQL instance.</p><p>If you do not consider this infrastructure change, please realize that you are leaving your server vulnerable since the root password may be stored on your server in a different location. Hackers could wreak havoc on your VPS if they were able to gain root access to your DB.</p><p><strong>The Configuration Files for MySQL</strong></p><p>The main configuration file for MySQL is called \u201cmy.cnf\u201d and this file is located in the \u201c/etc/mysql/\u201d directory on Ubuntu. In other Linux distros, the configuration file may be located in the \u201c/etc/\u201d directory.</p><p>Let\u2019s make some changes to this configuration file in order to further secure our MySQL instance. Let\u2019s open the file with the following command:</p><pre class=\"code\">&gt; sudo nano /etc/mysql/my.cnf\n</pre><p>The first setting that we should check is the \u201cbind-address\u201d. This should absolutely be setup to only listen on the loopback address. This prevents outside connections.</p><p>If you have multiple webservers, you should consider running MySQL on a private network and restrict the access using iptables. This will ensure that only webservers that actually require access to your database can become authenticated through the MySQL port (3306).</p><p>Search for the following line and change it accordingly to your needs:</p><pre class=\"code\">&gt; bind-address = 127.0.0.1\n</pre><p>The next hole we will patch is a function that provides access to the underlying filesystem from within MySQL. Without patching this hole, your server can become vulnerable to a number of different cyber-attacks. You should always restrict access to this unless you absolutely need it.</p><pre class=\"code\">local-infile=0\n</pre><p><strong>How to Configure SQL Logging</strong></p><p>Another good way to keep track of what is happening with your MySQL installation is to check the logs. By checking the logs, you can sniff out suspicious activity before an attack is launched.</p><p>In order to accomplish this, we will need to add additional logging information into the configuration file.</p><p>You can set the log variable within the same \u201c[mysqld]\u201d section that we\u2019ve been working in. Go ahead and add this line:</p><pre class=\"code\">&gt; log=/var/log/mysql-logfile\n</pre><p><strong>Reassigning the Root Username</strong></p><p>Another good practice is to change the root username to something other than \u201cRoot.\u201d This will make it more difficult for an attacker to access your DB since they will need to know the correct username before trying to crack the password.</p><p>The root login can be changed using the following command within the MySQL environment:</p><pre class=\"code\">&gt; rename user 'root'@'localhost' to 'newAdminUser'@'localhost';\n</pre><p>We can see the change by using the same query we\u2019ve been using for the User database:</p><pre class=\"code\">&gt; select user,host,password from mysql.user;\n</pre><p>Note: Remember to execute the following command before exiting:</p><pre class=\"code\">&gt; FLUSH PRIVILEGES;\n</pre><p>Another good practice is to implement application specific users. Each application that uses MySQL should have its own user and only that user should have privileges that are limited to the databases that they need to run.</p><p>Here is how to create a database with a dedicated user. Execute the following commands in the MySQL environment:</p><pre class=\"code\">&gt; create database newDB;\n\n&gt; CREATE USER 'newUSER'@'localhost' IDENTIFIED BY 'password';\n\n&gt; GRANT SELECT,UPDATE,DELETE ON newDB.* TO 'newUSER'@'localhost';\n\n&gt; FLUSH PRIVILEGES;\n</pre><p>If you need to remove privileges, try the following command:</p><pre class=\"code\">&gt; REVOKE UPDATE ON newDB.* FROM 'newUSER'@'localhost';\n</pre><p>This command will grant a user all the privileges to a specific DB:</p><pre class=\"code\">&gt; GRANT ALL ON newDB.* TO 'newUSER'@'localhost';\n</pre><p>While this is a non-exhaustive list of MySQL security practices, the tips we have listed are designed to guide you in the right direction on where to concentrate your attention when deploying secured MySQL instances on your VPS.</p><p class=\"dpsp-share-text\"></p><div id=\"dpsp-content-bottom\" class=\"dpsp-content-wrapper dpsp-shape-rounded dpsp-column-auto dpsp-has-spacing dpsp-no-labels dpsp-show-on-mobile dpsp-button-style-1 dpsp-has-icon-background dpsp-has-button-background dpsp-show-total-share-count dpsp-show-total-share-count-after\"><ul class=\"dpsp-networks-btns-wrapper dpsp-networks-btns-content dpsp-has-button-icon-animation\"><li><a rel=\"nofollow\" href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-harden-the-security-of-mysql-on-your-vps%2F&amp;t=How%20to%20Harden%20the%20Security%20of%20MySQL%20on%20your%20VPS\" class=\"dpsp-network-btn dpsp-facebook dpsp-no-label dpsp-first\" title=\"Share on Facebook\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://twitter.com/intent/tweet?text=How%20to%20Harden%20the%20Security%20of%20MySQL%20on%20your%20VPS&amp;url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-harden-the-security-of-mysql-on-your-vps%2F&amp;via=LowEndNetwork\" class=\"dpsp-network-btn dpsp-twitter dpsp-no-label\" title=\"Share on Twitter\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://www.linkedin.com/shareArticle?url=https%3A%2F%2Flowendbox.com%2Fblog%2Fhow-to-harden-the-security-of-mysql-on-your-vps%2F&amp;title=How%20to%20Harden%20the%20Security%20of%20MySQL%20on%20your%20VPS&amp;mini=true\" class=\"dpsp-network-btn dpsp-linkedin dpsp-no-label dpsp-last\" title=\"Share on LinkedIn\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li></ul><div class=\"dpsp-total-share-wrapper\"><span class=\"dpsp-icon-total-share\"></span><span class=\"dpsp-total-share-count\">0</span><span>shares</span></div></div><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/lowendprotection-homemade-raspberry-pi-security-cloud-camera-setup/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"LowEndProtection: Homemade Raspberry Pi Security Cloud Camera Setup\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/07/rpi_security1-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">LowEndProtection: Homemade Raspberry Pi Security Cloud Camera Setup</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-set-up-nameservers-on-a-vps/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Set Up Nameservers on a VPS\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/how-to-setup-nameservers-on-a-vps-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Set Up Nameservers on a VPS</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/shields-up-protecting-your-wordpress-site-with-wordfence/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Shields Up! Protecting Your WordPress Site with Wordfence\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Shields Up! Protecting Your WordPress Site with Wordfence</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/increasing-security-on-your-linux-vps/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Increasing Security on Your Linux VPS\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/06/increasing-security-on-your-linux-vps-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Increasing Security on Your Linux VPS</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/jbiloh/\" title=\"All posts by Jon Biloh\" rel=\"author\">Jon Biloh</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/f766d6dc4b5f406b9f3cb0339d48de95?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/f766d6dc4b5f406b9f3cb0339d48de95?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/jbiloh\" class=\"bio-icon bio-icon-website\"></a><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"http://Jbiloh\" class=\"bio-icon bio-icon-twitter\"></a><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.linkedin.com/in/jon-biloh-4b32598/\" class=\"bio-icon bio-icon-linkedin\"></a><p class=\"bio-description\">I'm Jon Biloh and I own LowEndBox and LowEndTalk. I've spent my nearly 20 year career in IT building companies and now I'm excited to focus on building and enhancing the community at LowEndBox and LowEndTalk.</p></div></div><div class=\"feedback\"></div></div>"}