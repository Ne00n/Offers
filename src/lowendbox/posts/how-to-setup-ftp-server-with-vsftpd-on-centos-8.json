{"id": "24398", "post": "<div class=\"post-24398 post type-post status-publish format-standard hentry category-tutorials tag-centos-8 tag-setup-ftp-server tag-setup-ftp-server-on-centos tag-tutorial tag-vsftpd\" id=\"post-24398\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/how-to-setup-ftp-server-with-vsftpd-on-centos-8/\" rel=\"bookmark\">How to Setup FTP Server with VSFTPD on CentOS 8</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" width=\"16\" height=\"16\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/centos-8/\" rel=\"tag\">centos 8</a>, <a href=\"https://lowendbox.com/tag/setup-ftp-server/\" rel=\"tag\">setup ftp server</a>, <a href=\"https://lowendbox.com/tag/setup-ftp-server-on-centos/\" rel=\"tag\">setup ftp server on centos</a>, <a href=\"https://lowendbox.com/tag/tutorial/\" rel=\"tag\">tutorial</a>, <a href=\"https://lowendbox.com/tag/vsftpd/\" rel=\"tag\">vsftpd</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" width=\"16\" height=\"16\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> June 26, 2021 @ 5:03 am, by Jon Biloh</div><div class=\"storycontent tablelook\"><p><a target=\"_blank\" rel=\"noopener noreferrer\"><img data-lazyloaded=\"1\" src=\"https://lowendbox.com/wp-content/uploads/2020/08/how-to-setup-vsftpd-centos-8.jpg.webp\" loading=\"lazy\" class=\"screenshot litespeed-loaded\" title=\"How to Setup FTP Server with VSFTPD on CentOS 8\" data-src=\"https://lowendbox.com/wp-content/uploads/2020/08/how-to-setup-vsftpd-centos-8.jpg.webp\" alt=\"How to Setup FTP Server with VSFTPD on CentOS 8\" width=\"410\" height=\"240\" data-was-processed=\"true\"></a></p><p><span style=\"font-weight: 400;\">This article was contributed by the folks at </span><a href=\"https://www.racknerd.com/\"><span style=\"font-weight: 400;\">RackNerd</span></a><span style=\"font-weight: 400;\"> \u2013 a provider of shared hosting, reseller hosting, VPS hosting, dedicated servers, DRaaS, colocation, and more. If you are looking for an affordable hosting service, be sure to check out </span><a href=\"https://www.racknerd.com/\"><span style=\"font-weight: 400;\">RackNerd</span></a><span style=\"font-weight: 400;\">.</span></p><p><span style=\"font-weight: 400;\">File Transfer Protocol, or FTP, is a type of network protocol that lets you transfer files between a remote system on your network and your computer. The client-server model that the FTP is built upon utilizes separate connections for data and control between the remote system and your computer.</span></p><p><span style=\"font-weight: 400;\">If you want to set up an FTP server on your CentOS 8 remote server, then keep reading this guide!</span></p><p><span style=\"font-weight: 400;\">For Linux based systems, there are numerous available open-source FTP servers. However, today, we will be guiding you on how to install the most commonly used one of them. That is VSFTPD \u2013 which stands for: Very Secure FTP Daemon.</span></p><p><span style=\"font-weight: 400;\">The VSFTPD software works on an encrypted transmission through SSL; thus, it is secure and fast.</span></p><p><span id=\"more-24398\"></span></p><p><span style=\"font-weight: 400;\">Let\u2019s start with the installation process:</span></p><p><b>Step 1. Install VSFTPD</b></p><p><span style=\"font-weight: 400;\">You don\u2019t need to download anything for this step, as VSFTPD is in the CentOS repositories by default.</span></p><p><span style=\"font-weight: 400;\">Run the following command to install it:</span></p><blockquote><p><span style=\"font-weight: 400;\">sudo dnf install vsftpd</span></p></blockquote><p><b>Step 2. Enable VSFTPD</b></p><p><span style=\"font-weight: 400;\">Once the package is installed, we need to start the service and make it run when the system boots up.</span></p><p><span style=\"font-weight: 400;\">Run the following command:</span></p><blockquote><p><span style=\"font-weight: 400;\">sudo systemctl enable vsftpd \u2013now</span></p></blockquote><p><span style=\"font-weight: 400;\">You can verify the status of VSFTPD by executing this command:</span></p><blockquote><p><span style=\"font-weight: 400;\">sudo systemctl status vsftpd</span></p></blockquote><p><b>Step 3. Configuring VSFTPD</b></p><p><span style=\"font-weight: 400;\">Now that VSFTPD is installed and running, we need to make changes to its config file for our use case.</span></p><p><span style=\"font-weight: 400;\">The config file is stored at /etc/vsftpd/vsftpd.conf</span></p><p><span style=\"font-weight: 400;\">Open the file with this command:</span></p><blockquote><p><span style=\"font-weight: 400;\">sudo nano /etc/vsftpd/vsftpd.conf</span></p></blockquote><p><span style=\"font-weight: 400;\">We need to make several changes to this file.</span></p><ol><li><b> Allow local access:</b></li></ol><p><span style=\"font-weight: 400;\">Locate the following lines in the file and match them to these:</span></p><p><span style=\"font-weight: 400;\">\u201canonymous_enable=NO</span></p><p><span style=\"font-weight: 400;\">local_enable=YES\u201d</span></p><ol start=\"2\"><li><b> Enable write access:</b></li></ol><p><span style=\"font-weight: 400;\">Locate the following lines in the file and match them to these:</span></p><p><span style=\"font-weight: 400;\">\u201cwrite_enable=YES\u201d</span></p><ol start=\"3\"><li><b> Place root restrictions</b></li></ol><p><span style=\"font-weight: 400;\">Locate the following lines in the file and match them to these:</span></p><p><span style=\"font-weight: 400;\">\u201cchroot_local_user=YES\u201d</span></p><ol start=\"4\"><li><b> Specify the range of ports</b></li></ol><p><span style=\"font-weight: 400;\">We need to set up the range of ports that can be used by the passive FTP connections. We can do that by adding the following lines to the config file:</span></p><p><span style=\"font-weight: 400;\">\u201cpasv_min_port=30000</span></p><p><span style=\"font-weight: 400;\">pasv_max_port=31000\u201d</span></p><p><b>Step 4. Set up SSL for FTP connections</b></p><p><span style=\"font-weight: 400;\">The VSFTPD works through SSL connections, and we need to have a certificate configured for that. That certificate can either be signed by a trusted CA or can be self-signed.</span></p><p><span style=\"font-weight: 400;\">The following command will show you how you can create a self-signed certificate with a 2048-bit private key:</span></p><blockquote><p><span style=\"font-weight: 400;\">sudo openssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout /etc/vsftpd/vsftpd.pem -out /etc/vsftpd/vsftpd.pem</span></p></blockquote><p><span style=\"font-weight: 400;\">Now, open the config file for VSFTPD again and match it with the following lines:</span></p><p><span style=\"font-weight: 400;\">\u201crsa_cert_file=/etc/vsftpd/vsftpd.pem</span></p><p><span style=\"font-weight: 400;\">rsa_private_key_file=/etc/vsftpd/vsftpd.pem</span></p><p><span style=\"font-weight: 400;\">ssl_enable=YES\u201d</span></p><p><b>Step 5. Restart the VSFTPD service</b></p><p><span style=\"font-weight: 400;\">Now, we are done with the configuration process of the FTP server and the SSL connection.</span></p><p><span style=\"font-weight: 400;\">Restart the VSFTPD server with this command:</span></p><blockquote><p><span style=\"font-weight: 400;\">sudo systemctl restart vsftpd</span></p></blockquote><p><b>Step 6. Configure the firewall</b></p><p><span style=\"font-weight: 400;\">Once everything is set up, we need to configure the firewall to allow FTP connections. You can skip this step if you have firewalld/iptables disabled on your server.</span></p><p><span style=\"font-weight: 400;\">Otherwise, that can be done with following command:</span></p><blockquote><p><span style=\"font-weight: 400;\">sudo firewall-cmd \u2013permanent \u2013add-port=20-21/tcp</span></p><p><span style=\"font-weight: 400;\">sudo firewall-cmd \u2013permanent \u2013add-port=30000-31000/tcp</span></p><p><span style=\"font-weight: 400;\">firewall-cmd \u2013reload</span></p></blockquote><p><b>What is your preferred FTP server? Have you set up VSFTPD before? Please leave your feedback in the comments section below!</b></p><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-set-up-nginx-server-blocks-on-ubuntu-20-04/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Set Up Nginx Server Blocks on Ubuntu 20.04\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/06/how-to-setup-nginx-server-blocks-ubuntu-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Set Up Nginx Server Blocks on Ubuntu 20.04</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/guide-to-free-game-server-control-panels/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"lowendtutorial\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2013/05/lowendtutorial-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Guide to Free Game Server Control Panels</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-use-the-chattr-command-in-linux/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"How to Use the Chattr Command in Linux\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2021/05/rntut_chattr-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Use the Chattr Command in Linux</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/how-to-setup-replicated-highly-available-sqlite-with-rqlite/\"><div class=\"relpost-custom-block-single\" style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Replicated Highly Availably SQLite with rqlite\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/05/Replicated-highly-available-SQLITE-with-RQLITE-150x150.jpg) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">How to Setup Replicated Highly Available SQLite with rqlite</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/jbiloh/\" title=\"All posts by Jon Biloh\" rel=\"author\">Jon Biloh</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/f766d6dc4b5f406b9f3cb0339d48de95?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/f766d6dc4b5f406b9f3cb0339d48de95?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.lowendtalk.com/profile/jbiloh\" class=\"bio-icon bio-icon-website\"></a><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"http://Jbiloh\" class=\"bio-icon bio-icon-twitter\"></a><a target=\"_blank\" rel=\"nofollow noopener noreferrer\" href=\"https://www.linkedin.com/in/jon-biloh-4b32598/\" class=\"bio-icon bio-icon-linkedin\"></a><p class=\"bio-description\">I'm Jon Biloh and I own LowEndBox and LowEndTalk. I've spent my nearly 20 year career in IT building companies and now I'm excited to focus on building and enhancing the community at LowEndBox and LowEndTalk.</p></div></div><div class=\"feedback\"></div></div>"}