{"id": "18680", "post": "<div class=\"post-18680 post type-post status-publish format-standard hentry category-tutorials tag-blackhole tag-centos tag-centos-add-a-nullroute tag-centos-create-blackhole tag-debian tag-debian-add-nullroute tag-debian-create-blackhole tag-how-to-add-a-nullroute tag-how-to-add-nullroute-in-debian tag-how-to-remove-a-nullroute tag-nullroute tag-ssh tag-tutorial tag-tutorials-2 tag-ubuntu tag-ubuntu-add-a-nullroute\" id=\"post-18680\"><h2 class=\"storytitle\"><a href=\"https://lowendbox.com/blog/linux-blackhole-tutorial-adding-and-removing-a-null-route/\" rel=\"bookmark\">Linux Blackhole Tutorial \u2013 Adding and Removing A Null Route</a></h2><div class=\"meta\"><img data-lazyloaded=\"1\" src=\"/media/icons/tag_green.png\" data-src=\"/media/icons/tag_green.png\" alt=\"Tags: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> <a href=\"https://lowendbox.com/tag/blackhole/\" rel=\"tag\">blackhole</a>, <a href=\"https://lowendbox.com/tag/centos/\" rel=\"tag\">centos</a>, <a href=\"https://lowendbox.com/tag/centos-add-a-nullroute/\" rel=\"tag\">centos add a nullroute</a>, <a href=\"https://lowendbox.com/tag/centos-create-blackhole/\" rel=\"tag\">centos create blackhole</a>, <a href=\"https://lowendbox.com/tag/debian/\" rel=\"tag\">debian</a>, <a href=\"https://lowendbox.com/tag/debian-add-nullroute/\" rel=\"tag\">debian add nullroute</a>, <a href=\"https://lowendbox.com/tag/debian-create-blackhole/\" rel=\"tag\">debian create blackhole</a>, <a href=\"https://lowendbox.com/tag/how-to-add-a-nullroute/\" rel=\"tag\">how to add a nullroute</a>, <a href=\"https://lowendbox.com/tag/how-to-add-nullroute-in-debian/\" rel=\"tag\">how to add nullroute in debian</a>, <a href=\"https://lowendbox.com/tag/how-to-remove-a-nullroute/\" rel=\"tag\">how to remove a nullroute</a>, <a href=\"https://lowendbox.com/tag/nullroute/\" rel=\"tag\">nullroute</a>, <a href=\"https://lowendbox.com/tag/ssh/\" rel=\"tag\">ssh</a>, <a href=\"https://lowendbox.com/tag/tutorial/\" rel=\"tag\">tutorial</a>, <a href=\"https://lowendbox.com/tag/tutorials-2/\" rel=\"tag\">tutorials</a>, <a href=\"https://lowendbox.com/tag/ubuntu/\" rel=\"tag\">ubuntu</a>, <a href=\"https://lowendbox.com/tag/ubuntu-add-a-nullroute/\" rel=\"tag\">ubuntu add a nullroute</a> <img data-lazyloaded=\"1\" src=\"https://lowendbox.com/media/icons/calendar.png\" data-src=\"https://lowendbox.com/media/icons/calendar.png\" alt=\"Date/Time: \" class=\"litespeed-loaded\" data-was-processed=\"true\"> April 5, 2019 @ 10:00 am, by Frank Williams</div><div class=\"storycontent tablelook\"><p>In the world of systems administration, having the commands to add or remove a blackhole / nullroute a host or problematic IP address can be very useful. So in this simple, yet useful tutorial, we\u2019ll cover how to exactly go about doing this on nearly any type of Linux OS!</p><p><strong>How to add a blackhole nullroute:</strong><span id=\"more-18680\"></span></p><p>For this example, let\u2019s assume that we are receiving unwanted SSH login attempts from 192.168.0.195 .</p><p>root@server:~#<em> netstat -na | grep :22</em><br>\n<em>tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN</em><br>\n<em>tcp 0 0 192.168.0.197:22 192.168.0.195:57776 ESTABLISHED</em></p><p><strong>To add the blackhole for 192.168.0.195:</strong></p><p>root@server:~# <em>ip route add blackhole 192.168.0.195/32</em></p><p><strong>To verify the route is in place will will use \u201cip route show \u201c:</strong></p><p>root@server:~#<em> ip route show</em><br>\n<em>default via 192.168.0.1 dev eth0 metric 100</em><br>\n<em>blackhole 192.168.0.195</em></p><p>Subsequently, connections to and from that IP will fail:</p><p>root@attacker:~$ <em>ssh 192.168.0.2</em><br>\n<em>ssh: connect to host 192.168.0.2 port 22: No route to host</em></p><p><strong>Removing a blackhole:</strong></p><p>Typically, blackholes are useful when your server is under attack. After the attack has subsided, or you wish to remove the blackhole you can do so as follows:</p><p>root@server:~# <em>ip route del 192.168.0.195</em><br>\nroot@server:~# <em>ip route show</em><br>\n<em>default via 192.168.0.1 dev eth0 metric 100</em></p><p class=\"dpsp-share-text\"></p><div id=\"dpsp-content-bottom\" class=\"dpsp-content-wrapper dpsp-shape-rounded dpsp-column-auto dpsp-has-spacing dpsp-no-labels dpsp-show-on-mobile dpsp-button-style-1 dpsp-has-icon-background dpsp-has-button-background dpsp-show-total-share-count dpsp-show-total-share-count-after\"><ul class=\"dpsp-networks-btns-wrapper dpsp-networks-btns-content dpsp-has-button-icon-animation\"><li><a rel=\"nofollow\" href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flowendbox.com%2Fblog%2Flinux-blackhole-tutorial-adding-and-removing-a-null-route%2F&amp;t=Linux%20Blackhole%20Tutorial%20-%20Adding%20and%20Removing%20A%20Null%20Route\" class=\"dpsp-network-btn dpsp-facebook dpsp-no-label dpsp-first\" title=\"Share on Facebook\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://twitter.com/intent/tweet?text=Linux%20Blackhole%20Tutorial%20-%20Adding%20and%20Removing%20A%20Null%20Route&amp;url=https%3A%2F%2Flowendbox.com%2Fblog%2Flinux-blackhole-tutorial-adding-and-removing-a-null-route%2F&amp;via=LowEndNetwork\" class=\"dpsp-network-btn dpsp-twitter dpsp-no-label\" title=\"Share on Twitter\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li><li><a rel=\"nofollow\" href=\"https://www.linkedin.com/shareArticle?url=https%3A%2F%2Flowendbox.com%2Fblog%2Flinux-blackhole-tutorial-adding-and-removing-a-null-route%2F&amp;title=Linux%20Blackhole%20Tutorial%20-%20Adding%20and%20Removing%20A%20Null%20Route&amp;mini=true\" class=\"dpsp-network-btn dpsp-linkedin dpsp-no-label dpsp-last\" title=\"Share on LinkedIn\"><span class=\"dpsp-network-icon\"></span><span class=\"dpsp-network-label-wrapper\"></span></a></li></ul><div class=\"dpsp-total-share-wrapper\"><span class=\"dpsp-icon-total-share\"></span><span class=\"dpsp-total-share-count\">0</span><span>shares</span></div></div><div class=\"relpost-thumb-wrapper\"><div class=\"relpost-thumb-container\"><h3>Related posts:</h3><div style=\"clear: both\"></div><div style=\"clear: both\"></div><div class=\"relpost-block-container\"><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/managing-your-lowendempire-with-ansible-part-1/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Managing Your LowEndEmpire With Ansible, Part 1\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/03/leb-banner-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Managing Your LowEndEmpire With Ansible, Part 1</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/setup-a-dns-nameserver-using-nsd/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Setup a DNS Nameserver Using NSD\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/03/leb-banner-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Setup a DNS Nameserver Using NSD</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/keeping-a-logwatchful-eye-on-your-vps-with-logwatch/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Keeping A (log)Watchful Eye on Your VPS With logwatch\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/logwatch-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Keeping A (log)Watchful Eye on Your VPS With logwatch</div></div></a><a class=\"relpost-block-single\" href=\"https://lowendbox.com/blog/nginx-vs-openlitespeed-vs-apache/\"><div style=\"width: 150px; height: 215px;\"><div class=\"relpost-block-single-image\" alt=\"Nginx vs. OpenLiteSpeed vs. Apache\" style=\"background: transparent url(https://lowendbox.com/wp-content/uploads/2020/04/nginx-vs-openlitespeed-vs-apache-150x150.png) no-repeat scroll 0% 0%; width: 150px; height: 150px;\"></div><div class=\"relpost-block-single-text\" style=\"font-family: Arial;  font-size: 12px;  color: #333333;\">Nginx vs. OpenLiteSpeed vs. Apache</div></div></a></div><div style=\"clear: both\"></div></div></div><div id=\"author-bio-box\" style=\"background: #f8f8f8; border-top: 2px solid #cccccc; border-bottom: 2px solid #cccccc; color: #333333\"><h3><a style=\"color: #555555;\" href=\"https://lowendbox.com/blog/author/lowendboxwriter/\" title=\"All posts by Frank Williams\" rel=\"author\">Frank Williams</a></h3><div class=\"bio-gravatar\"><img data-lazyloaded=\"1\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MCIgaGVpZ2h0PSI3MCIgdmlld0JveD0iMCAwIDcwIDcwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2ZkNGRiIi8+PC9zdmc+\" alt=\"\" data-src=\"https://secure.gravatar.com/avatar/8947063acd5819620902a7f05b9ed6a9?s=70&amp;d=retro&amp;r=pg\" data-srcset=\"https://secure.gravatar.com/avatar/8947063acd5819620902a7f05b9ed6a9?s=140&amp;d=retro&amp;r=pg 2x\" class=\"avatar avatar-70 photo\" height=\"70\" width=\"70\" loading=\"lazy\"></div><p class=\"bio-description\">Frank Williams is the pen-name for our offer review and publishing team. For questions or inquiries please contact our Help Desk.</p></div></div><div class=\"feedback\"></div></div>"}